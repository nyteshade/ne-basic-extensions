var nejsBasicExtensions=(()=>{var we=Object.defineProperty;var Gt=Object.getOwnPropertyDescriptor;var Ft=Object.getOwnPropertyNames;var Bt=Object.prototype.hasOwnProperty;var ft=(t,e)=>{for(var r in e)we(t,r,{get:e[r],enumerable:!0})},Ht=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ft(e))!Bt.call(t,s)&&s!==r&&we(t,s,{get:()=>e[s],enumerable:!(n=Gt(e,s))||n.enumerable});return t};var Vt=t=>Ht(we({},"__esModule",{value:!0}),t);var Zr={};ft(Zr,{COPropertyHandler:()=>M,Classes:()=>It,Controls:()=>V,DescriptorUtils:()=>Le,Extensions:()=>U,FlexiblyHiddenHandler:()=>_,FlexiblyVisibleHandler:()=>Z,GlobalFunctionsAndProps:()=>se,ImmutablyHiddenHandler:()=>Y,ImmutablyVisibleHandler:()=>X,InstancePatches:()=>le,MutablyHiddenHandler:()=>Q,MutablyVisibleHandler:()=>z,Patches:()=>ge,StaticPatches:()=>ue,VisibilityKeys:()=>L,VisibilityScopeHandler:()=>I,accessor:()=>Se,all:()=>Nt,as:()=>re,copyObject:()=>ee,createToolkit:()=>dr,customCopyObject:()=>me,data:()=>Ge,default:()=>Yr,has:()=>j,is:()=>c,isDescriptor:()=>B,kAccessorDescriptorKeys:()=>Fe,kDataDescriptorKeys:()=>Be,kDescriptorKeys:()=>He,kSharedDescriptorKeys:()=>Ve,kVisibilityKeys:()=>De,makeTransducer:()=>ke,si:()=>te,transduceFrom:()=>Re,transduceFromCOHandler:()=>Me,tryIgnore:()=>be});var $t=t=>/(\w+)]/.exec(Object.prototype.toString.call(t))[1],pe=class extends Error{constructor(e,r){super(`${$t(e)} disallows tampering with ${r}.`),Object.assign(this,{owner:e,key:r})}get[Symbol.toStringTag](){return this.constructor.name}};var Kt=t=>/(\w+)]/.exec(Object.prototype.toString.call(t))[1],de=class extends Error{constructor(e,r){super(`${Kt(e)} does not have a property named '${r}'.`),Object.assign(this,{owner:e,key:r})}get[Symbol.toStringTag](){return this.constructor.name}};var $=class{constructor(e,r=!1){this.started=!1,this.preventRevert=r,this.patch=e,this.patchName=e.owner?.name??e.owner?.constructor?.name??/(\w+)]/.exec(Object.prototype.toString.call(e.owner))[1],this.state={needsApplication:!1,needsReversion:!1}}start(){return this.started||(this.state.needsApplication=!this.patch.applied,this.state.needsReversion=this.patch.applied,this.started=!0,this.state.needsApplication&&this.patch.apply()),this}perform(e=(r,n)=>{}){this.state.needsApplication||this.start();let r=e(this,this.patch);return this.state.needsReversion||this.stop(),r}stop(){return this.started&&((this.preventRevert||this.patch.applied)&&this.patch.revert(),this.state.needsApplication=!1,this.state.needsReversion=!1,this.started=!1),this}get[Symbol.toStringTag](){return`${this.constructor.name}:${this.patchName}`}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){let s=this[Symbol.toStringTag],i=`(started: ${this.started} needed: ${this.state.needsApplication})`;return n(`${s} ${i}`,{...r,depth:e})}};var J=class{constructor(e,r=globalThis,n=void 0,s={}){let i=f=>f==null,o=(f,l=["string","symbol"])=>!i(f)&&!!l.find(p=>p===typeof f),a=f=>o(f,["object"]);if(!o(e))throw console.error("Property",e,`(type: ${typeof e})`,"owningObject",r,`(type: ${typeof r})`,"condition",n,`(type: ${typeof n})`),new TypeError("Property must be non-null and either a string or symbol");if(!a(r))throw new TypeError("Cannot create Patch entry as owning object is invalid");let u={...Object.getOwnPropertyDescriptor(r,e),...Object(s)};Object.assign(this,{key:e,descriptor:u,owner:r,condition:typeof n=="function"?n:void 0})}get computed(){return this.isAccessor?this.descriptor.get.bind(this.owner).call():this.descriptor.value}get isData(){return Reflect.has(this.descriptor,"value")}get isAccessor(){return Reflect.has(this.descriptor,"get")}get isReadOnly(){return Reflect.has(this.descriptor,"configurable")&&!this.descriptor.configurable||Reflect.has(this.descriptor,"writable")&&!this.descriptor.writable}get isAllowed(){return this.condition&&typeof this.condition=="function"?this.condition():!0}applyTo(e,r=!1){let n={...this.descriptor};r&&(typeof n.get=="function"&&(n.get=n.get.bind(this.owner)),typeof n.set=="function"&&(n.set=n.set.bind(this.owner))),Object.defineProperty(e,this.key,n)}get[Symbol.toStringTag](){return this.constructor.name}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){let s=`\x1B[33m${this.key}\x1B[39m`,i=this.isData?" Data":" Accessor",o=this.isReadOnly?" [\x1B[2;3mReadOnly\x1B[22;23m]":"";return`PatchEntry<${s}${i}${o}>`}};var m=class t{patchConflicts=Object.create(null);patchEntries=Object.create(null);patchesOwner=void 0;patchCount=0;patchesApplied=0;ownerDisplayName=void 0;constructor(e,r,n=Object.create(null)){Object.assign(this,{owner:e,options:n}),this.ownerDisplayName=n?.displayName??t.extractName(e),this.patchesOwner=t.constructWithStore(r,this),this.generatePatchEntries(this.patchesOwner),t.patches.has(e)||t.patches.set(e,[]),t.patches.get(e).push(this)}generatePatchEntries(e,r=void 0){let n=this?.options.condition;Reflect.ownKeys(e).forEach(s=>{let i=this?.options?.conditions?.[s]??n;try{let o=r??t.getDescriptorOverridesFromSymbol(s),a=e;if(t.isKnownPatchSymbol(s)){a=t.constructWithStore(e[s],this,s),e[s]=a,this.generatePatchEntries(a,o);return}this.patchEntries[s]=new J(s,e,i,r),this.patchCount+=1}catch(o){console.error(`Failed to process patch for ${String(s)}
`,o)}if(Reflect.has(this.owner,s))try{this.patchConflicts[s]=new J(s,this.owner)}catch(o){console.error(`Cannot capture conflicting patch key ${s}
`,o)}})}get entries(){return Reflect.ownKeys(this.patchEntries).map(e=>[e,this.patchEntries[e]])}get appliedEntries(){return Reflect.ownKeys(this.patchEntries).filter(e=>this.patchState.get(e)===!0).map(e=>[e,this.patchEntries[e]])}get unappliedEntries(){return Reflect.ownKeys(this.patchEntries).filter(e=>this.patchState.get(e)===!1).map(e=>[e,this.patchEntries[e]])}get patches(){return this.entries.reduce((e,[r,n])=>(e[r]=n.computed,e),Object.create(null))}get appliedPatches(){return this.entries.reduce((e,[r,n])=>(this.patchState.get(r)===!0&&(e[r]=n.computed),e),Object.create(null))}get unappliedPatches(){return this.entries.reduce((e,[r,n])=>(this.patchState.get(r)===!1&&(e[r]=n.computed),e),Object.create(null))}get patchKeys(){return this.entries.map(([e,r])=>e)}get prettyEntries(){let e=this.entries.map(([r,n])=>t.stringRef(t.extractName(r),r,n));return Object.defineProperty(e,"asEntries",{get(){return this.map(r=>r.entry)},enumerable:!1,configurable:!0}),e}get conflicts(){return Reflect.ownKeys(this.patchConflicts).map(e=>[e,this.patchConflicts[e]])}get applied(){return this.patchesApplied>0}get isPartiallyPatched(){return this.applied}get isFullyPatched(){return this.patchCount==this.patchesApplied}apply(e){let r=this.entries,n={patches:r.length,applied:0,errors:[],notApplied:r.length};this.patchState.clear(),r.forEach(([,s])=>{if(s.isAllowed){Object.defineProperty(this.owner,s.key,s.descriptor);let i=Object.getOwnPropertyDescriptor(this.owner,s.key);this.#e(i,s.descriptor)?(n.applied+=1,n.notApplied-=1,this.patchState.set(s,!0)):(n.errors.push([s,new Error(`Could not apply patch for key ${s.key}`)]),this.patchState.set(s,!1))}else this.patchState.set(s,!1)}),this.patchesApplied=n.applied,typeof e=="function"&&e(n)}createToggle(e=!1){return new $(this,e)}revert(e){if(!this.applied)return;let r=this.entries,n=this.conflicts,s={patches:r.length,reverted:0,restored:0,conflicts:n.length,errors:[],stillApplied:0};r.forEach(([,i])=>{delete this.owner[i.key]?(this.patchesApplied-=1,s.reverted+=1,this.patchState.set(i,!1)):s.errors.push([i,new Error(`Failed to revert patch ${i.key}`)])}),n.forEach(([,i])=>{Object.defineProperty(this.owner,i.key,i.descriptor);let o=Object.getOwnPropertyDescriptor(this.owner,i.key);this.#e(i.descriptor,o)?s.restored+=1:s.errors.push([i,new Error(`Failed to restore original ${i.key}`)])}),s.stillApplied=this.patchesApplied,typeof e=="function"&&e(s)}release(){let e=t.patches.get(this.owner);e.splice(e.find(r=>r===this),1)}owner=null;options=null;patchState=new Map;[Symbol.iterator](){return this.entries.values()}#e(e,r){return!e||!r?!1:e.configurable===r.configurable&&e.enumerable===r.enumerable&&e.value===r.value&&e.writable===r.writable&&e.get===r.get&&e.set===r.set}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){let s=this.ownerDisplayName??"",i=s.length?`[\x1B[32m${s}\x1B[39m]`:"",o=this.prettyEntries.map(a=>`\x1B[2;33m${a}\x1B[22;39m`).join(", ");return`${this.constructor.name}${i} { ${o} }`}static patches=new Map;static enableFor(e){if(t.patches.has(e))for(let r of t.patches.get(e))r.apply()}static enableProbableStatics(){for(let e of t.patches.keys())typeof e=="function"&&t.enableFor(e)}static enableProbableInstances(){for(let e of t.patches.keys())typeof e!="function"&&t.enableFor(e)}static enableAll(){for(let e of t.patches.keys())t.enableFor(e)}static disableFor(e){if(t.patches.has(e))for(let r of t.patches.get(e))r.revert()}static disableAll(){for(let e of t.patches.keys())t.disableFor(e)}static disableProbableStatics(){for(let e of t.patches.keys())typeof e=="function"&&t.disableFor(e)}static disableProbableInstances(){for(let e of t.patches.keys())typeof e!="function"&&t.disableFor(e)}static get applied(){return this.#t(globalThis,!0)}static get known(){return this.#t(globalThis,!1)}static get use(){return this.#t(globalThis,!1,!0)}static get lazy(){return this.#t(globalThis,!1,!1,!0)}static scopedTo(e){let r=(n,s,i=!1,o=!1)=>this.#t(n,s,i,o);return{get applied(){return r(e,!0,!1)},get known(){return r(e,!1,!1)},get use(){return r(e,!1,!0)},get lazy(){return r(e,!1,!1,!0)}}}static#t(e,r,n=!1,s=!1){return[...t.patches.values()].flat().filter(i=>i.owner===e).reduce((i,o)=>{for(let[,a]of o.entries)if(!(r&&o.patchState.get(a)!==!0)){if(n){i[a.key]=async u=>{if(typeof u!="function")return;let f=Object.prototype.toString.call(u),l=o.createToggle();l.start(),f==="[object AsyncFunction]"?await u(a.computed,a):u(a.computed,a),l.stop()};continue}if(s){Object.defineProperty(i,a.key,{get(){return o.apply(),a.computed},enumerable:!0,configurable:!0});continue}if(a.isAccessor){let u=`applyAccessorFor_${String(a.key)}`,f={[u](l){return a.applyTo(l),l}};i[a.key]=f[u]}else a.applyTo(i)}return i},Object.create(null))}static get CustomInspect(){return Symbol.for("nodejs.util.inspect.custom")}static stripExtras(e){return e.replaceAll(/^(\x1B\[\d+m)?[\[\{]\s?|\s?[\]\}](\x1B\[\d+m)?$/gm,"$1$2").replaceAll(/['"](.*?)['"]/gm,"$1")}static get kMutablyHidden(){return Symbol.for('{"enumerable":false,"configurable":true}')}static mutablyHidden(e,r=Object.create(null)){return this.customDescriptorPatch(e,this.kMutablyHidden,r)}static get kMutablyVisible(){return Symbol.for('{"enumerable":true,"configurable":true}')}static mutablyVisible(e,r=Object.create(null)){return this.customDescriptorPatch(e,this.kMutablyVisible,r)}static get kImmutablyHidden(){return Symbol.for('{"enumerable":false,"configurable":false}')}static immutablyHidden(e,r=Object.create(null)){return this.customDescriptorPatch(e,this.kImmutablyHidden,r)}static get kImmutablyVisible(){return Symbol.for('{"enumerable":true,"configurable":false}')}static immutablyVisible(e,r=Object.create(null)){return this.customDescriptorPatch(e,this.kImmutablyVisible,r)}static customDescriptorPatch(e,r,n=Object.create(null)){return!this.stores.has(e)&&(this.stores.set(e,n),t.isKnownPatchSymbol(r))?(n[r]=Object.create(null),this.stores.get(e)[r]):this.stores.get(e)}static isKnownPatchSymbol(e){return typeof e=="symbol"?[this.kImmutablyHidden,this.kImmutablyVisible,this.kMutablyHidden,this.kMutablyVisible].some(r=>r===e):!1}static constructWithStore(e,r,n,s=Object.create(null)){if(typeof e!="function")return e;try{let i=t.customDescriptorPatch(r,n,s);return e(i)}catch(i){return console.error(i),e}}static getDescriptorOverridesFromSymbol(e){let r=Object.create(null);return this.isKnownPatchSymbol(e)&&(r=JSON.parse(e.description)),r}static stores=new WeakMap;static stringRef(e,r,n){return Object.assign(Object(e),{get key(){return r},get value(){return n},get entry(){return[r,n]},get entries(){return[this.entry]},valueOf(){return String(this)},[Symbol.toStringTag]:"String",[Symbol.for("nodejs.util.inspect.custom")](i,o,a){return a(String(this),{colors:!0})}})}static shareOwnPropertyNames(e,r){let n=s=>Object.getOwnPropertyNames(Object(s));return n(e).every(s=>n(r??e?.constructor?.prototype).some(i=>i==s))}static extractName(e,r){let n=(o,a)=>o.some(u=>u===a),s;n([Symbol.prototype,Date.prototype,BigInt.prototype],e)||(s=e?.valueOf?.());let i=s&&(s instanceof String||typeof s=="string")?String(s):void 0;return((typeof e=="symbol"?String(e):void 0)??(typeof e=="string"?e:void 0)??(e instanceof String?String(e):void 0))||(e===Function.prototype||typeof e!="function")&&typeof e!="symbol"&&t.shareOwnPropertyNames(e)&&e?.constructor?.name&&`${e.constructor.name}.prototype`||(e?.[Symbol.toStringTag]??e?.name??i??(typeof r=="function"?r(e):void 0)??(typeof r=="string"?r:void 0)??Object.entries({Reflect}).find(([o,a])=>a===e)?.[0]??`Unknown.${Math.random().toString(36).slice(2)}`)}};m.patches[Symbol.for("nodejs.util.inspect.custom")]=function(t,e,r){let n=["Patches [",[...this.entries()].map(([s,i])=>{let o=i.map(a=>`${" ".repeat(2)}${r(a,e)}`).toSorted().join(`
`);return`\x1B[22;1m${m.extractName(s)}\x1B[22m =>
${o}
`}).toSorted().join(`
`),"]"];return n[1].includes(`
`)?(n[1]=n[1].split(`
`).map(i=>`${" ".repeat(2)}${i}`).join(`
`),n.join(`
`).replace(/\n\s*\n]$/m,`
]`)):(n[1]||(n[1]="\x1B[2;3mNo patches or extensions yet\x1B[22;23m"),n.join(""))};var Wt=["number","boolean","bigint","string","symbol"],S=class t extends m{constructor(e,r,n=globalThis,s={}){let i=t.determineInput(e),{key:o,extension:a,valid:u}=i;if(a=r||a,!u)throw new de(n,o);let f=Object.getOwnPropertyDescriptor(n,o);if(f&&(Reflect.has(f,"writable")&&!f.writable||Reflect.has(f,"configurable")&&!f.configurable))throw new pe(n,o);super(n,{[o]:a},s),this.key=o,this.class=i.class,this.function=i.function}get isFunction(){return!!this.function}get isClass(){return!!this.class}get isPrimitive(){return~Wt.indexOf(typeof this.value)}get isObject(){return Object(this.value)===this.value}static get applied(){return m.applied}static get known(){return m.known}static get use(){return m.use}static get lazy(){return m.lazy}static scopedTo(e){return m.scopedTo(e)}static determineInput(e){let r={key:null,extension:null,valid:!1};return e instanceof Function?(r={key:e.name,extension:e,valid:!0},/^class .*/.exec(e.toString())&&(r.class=e),/^(async )?function .*/.exec(e.toString())&&(r.function=e)):(typeof e=="string"||e instanceof String)&&(r={key:e,extension:null,valid:!0}),r}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){let s={get braces(){return/^(\x1B\[\d+m)?[\[\{]|[\]\}](\x1B\[\d+m)?$/g}};return`Extension[${n(this.patches[this.key],r).replaceAll(s.braces,"$1$2")}]`}get[Symbol.toStringTag](){return this.constructor.name}static createSet(e,...r){return new t.ExtensionSet(e,...r)}static ExtensionSet=class{constructor(r,...n){this.name=r,this.extensionObjects=new Set,this.extensions=new Set;for(let s of n)s instanceof t?(this.extensions.add(s),this.extensionObjects.add(s.patches[s.key])):s instanceof Function&&(this.extensionObjects.add(s),this.extensions.add(new t(s)))}apply(){for(let r of this.extensions)r.apply()}revert(){for(let r of this.extensions)r.revert()}}};var je=new m(Array,{ifArray(t,e,r){return Jt(Array.isArray(t),e,r)}}),{ifArray:Ut}=je.patches,pt=new m(Array.prototype,{[m.kMutablyHidden]:{contains(t){return!!this.find(e=>e===t)},findEntry(t){let e=this.entries(),r=1;for(let n of e)if(t(n[r]))return n},get first(){return this[0]},get isArray(){return Array.isArray(this)},ifArray(t,e){return Ut(this,t,e)},oneIs(t,e=!0){return this.some(r=>e?r==t:r===t)},someAre(...t){return this.some(e=>!!~t.indexOf(e))},allAre(t,e=!0){return this.every(r=>e?r==t:r===t)},get last(){return this[this.length-1]},get onlyTruthy(){return this.filter(t=>!!t)},get onlyFalsy(){return this.filter(t=>!t)},variants(){let t=this.map(s=>Object.keys(s)?.[0]),e=this.map(s=>Object.entries(s)?.[0]),r=e.reduce((s,[i,o])=>(s[i]=o,s),{}),n={order:t,entries:e,object:r};return Object.defineProperty(n,"check",{value(s){if(typeof s!="number"&&s>=0&&s<this.order.length)return!1;let i=this.entries[s][1];return!!(typeof i=="object"&&i&&Object.keys(i).every(o=>~this.order.indexOf(o)))},enumerable:!1,configurable:!0}),n},weave(t,e,r,n){if(!Array.isArray(t))return{};if(e&&!Array.isArray(e)){let l=e;e=[];for(let p of t)e.push(l)}let s=["configurable","enumerable","writable"],i={},o,a=t,u=e,f=!1;n?n==="hidden"?n={configurable:!0,enumerable:!1}:n==="immutable"?(f=!0,n={configurable:!1,enumerable:!1}):n&&typeof n=="object"&&(o=s.reduce((l,p)=>(l[p]=n?.[p]??!0,l),{})):o=s.reduce((l,p)=>(l[p]=!0,l),{});for(let[l,p]of Object.entries(a))f?Object.defineProperty(i,p,{...o,get(){return u?.[l]??r}}):Object.defineProperty(i,p,{...o,value:u?.[l]??r});return i},get[Symbol.for("@nejs.defaults.by.type")](){return{undefined:void 0,symbol:void 0,string:"",object:{},number:0,boolean:!0,bigint:0n,function(){}}},get kDefaultsByType(){return Symbol.for("@nejs.defaults.by.type")}}});function Jt(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}var Ae=new m(BigInt,{isBigInt(t){return typeof t=="bigint"||t instanceof BigInt},ifBigInt(t,e,r){return Qt(this.isBigInt(t),e,r)}}),{isBigInt:qt,ifBigInt:zt}=Ae.patches,dt=new m(BigInt.prototype,{get instance(){return Object(this)},get isBigInt(){return qt(this)},ifBigInt(t,e){return zt(this,t,e)}});function Qt(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}var q=new m(Function,{[m.kMutablyHidden]:{getClassProperties(t){let e=Reflect.ownKeys(t).reduce((n,s)=>(n[s]=Object.getOwnPropertyDescriptor(t,s),n),{}),r=Reflect.ownKeys(t.prototype).reduce((n,s)=>(n[s]=Object.getOwnPropertyDescriptor(t.prototype,s),n),{});return[t,e,t.prototype,r]},isAsync(t){let e=/(\w+)]/g.exec(Object.prototype.toString.call(t))[1];return t instanceof Function&&e.includes("Async")},ifAsync(t,e,r){return K(this.isAsync(t),e,r)},isAsyncGenerator(t){let e=mt(t);return t instanceof Function&&e=="AsyncGeneratorFunction"},ifAsyncGenerator(t,e,r){return K(this.isAsyncGenerator(t),e,r)},isBigArrow(t){return t instanceof Function&&String(t).includes("=>")&&!String(t).startsWith("bound")&&!Reflect.has(t,"prototype")},ifBigArrow(t,e,r){return K(this.isBigArrow(t),e,r)},isBound(t){return t instanceof Function&&String(t).startsWith("bound")&&!Reflect.has(t,"prototype")},ifBound(t,e,r){return K(this.isBound(t),e,r)},isClass(t){return t instanceof Function&&!!/^class\s/.exec(String(t))},ifClass(t,e,r){return K(this.isClass(t),e,r)},isFunction(t){return t instanceof Function&&!Function.isClass(t)},ifFunction(t,e,r){return K(this.isFunction(t),e,r)},isGenerator(t){let e=mt(t);return t instanceof Function&&e=="GeneratorFunction"},ifGenerator(t,e,r){return K(this.isGenerator(t),e,r)},StringTagHasInstance(t){Object.defineProperty(t,Symbol.hasInstance,{value:function(r){let n=lr(r);return r[Symbol.toStringTag]===this.name||r instanceof this}})}}}),{isAsyncGenerator:Xt,ifAsyncGenerator:Yt,isAsync:Zt,ifAsync:_t,isBigArrow:er,ifBigArrow:tr,isBound:rr,ifBound:nr,isClass:sr,ifClass:ir,isFunction:or,ifFunction:ar,isGenerator:cr,ifGenerator:ur}=q.patches,ht=new m(Function.prototype,{[m.kMutablyHidden]:{get isAsync(){return Zt(this)},ifAsync(t,e){return _t(this,t,e)},get isAsyncGenerator(){return Xt(this)},ifAsyncGenerator(t,e){return Yt(this,t,e)},get isBigArrow(){return er(this)},ifBigArrow(t,e){return tr(this,t,e)},get isBound(){return rr(this)},ifBound(t,e){return nr(this,t,e)},get isClass(){return sr(this)},ifClass(t,e){return ir(this,t,e)},get isFunction(){return or(this)},ifFunction(t,e){return ar(this,t,e)},get isGenerator(){return cr(this)},ifGenerator(t,e){return ur(this,t,e)},getClassProperties(){return q.patches.getClassProperties(this)}}});function K(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}function mt(t,e=!1){if(Object.hasStringTag(t))return t[Symbol.toStringTag];if(!e)return t&&typeof t=="function"?t.name:/\s(.+)]/.exec(Object.prototype.toString.call(t))[1]}function lr(t){let e=[],r=Object.getPrototypeOf(t);for(;r;){let n=Reflect.ownKeys(r).reduce((s,i)=>(s[i]=Object.getOwnPropertyDescriptor(r,i),s),{});e.push([r,n]),r=Object.getPrototypeOf(r)}return e}var Ce={};ft(Ce,{COPropertyHandler:()=>M,FlexiblyHiddenHandler:()=>_,FlexiblyVisibleHandler:()=>Z,ImmutablyHiddenHandler:()=>Y,ImmutablyVisibleHandler:()=>X,MutablyHiddenHandler:()=>Q,MutablyVisibleHandler:()=>z,VisibilityKeys:()=>L,VisibilityScopeHandler:()=>I,copyObject:()=>ee,customCopyObject:()=>me,default:()=>pr,kVisibilityKeys:()=>De,makeTransducer:()=>ke,transduceFrom:()=>Re,transduceFromCOHandler:()=>Me,tryIgnore:()=>be});function be(t){try{return t()}catch{return}}function Re(t,e,r={}){return typeof e!="function"?r:t.reduce((n,s)=>{let{key:i,value:o}=e?.(s)??{};return i&&o&&(n[i]=o),n},r)}function Me(t){let e={};return t instanceof M&&(e.key=t.property,e.value=t),e}function ke(t,e){return Re.bind(null,t,e)}var M=class t{property=void 0;handler=void 0;constructor(e,r){Object.assign(this,{property:e,handler:r})}handle(e,r,n){return this.handler?t.defaultHandle(e,r,this.handler):r}static defaultHandle(e,r,n,s){if(typeof s=="function")try{let{descriptor:i,flow:o}=s(e,r,n);return this.makeResponse(i,o)}catch{}return this.makeResponse(r)}static makeResponse(e,r){return{newDescriptor:e,flow:r??this.kNoChange,get[Symbol.toStringTag](){return"COPropertyHandler.Response"}}}static isResponse(e){return e&&typeof e=="object"&&e[Symbol.toStringTag]==="COPropertyHandler.Response"}static get kNoChange(){return"nochange"}static get kContinue(){return"continue"}static get kBreak(){return"break"}static get flowTypes(){return[this.kNoChange,this.kContinue,this.kBreak]}static get flowEnum(){return{[this.kNoChange]:this.kNoChange,[this.kContinue]:this.kContinue,[this.kBreak]:this.kBreak}}};function De(){let t={get mutablyHidden(){return Symbol.for(JSON.stringify({enumerable:!1,configurable:!0}))},get mutablyVisible(){return Symbol.for(JSON.stringify({enumerable:!0,configurable:!0}))},get immutablyHidden(){return Symbol.for(JSON.stringify({enumerable:!1,configurable:!1}))},get immutablyVisible(){return Symbol.for(JSON.stringify({enumerable:!0,configurable:!1}))},get flexiblyHidden(){return Symbol.for(JSON.stringify({enumerable:!1,configurable:!1,writable:!0}))},get flexiblyVisible(){return Symbol.for(JSON.stringify({enumerable:!0,configurable:!1,writable:!0}))}},e={mutablyHidden:t.mutablyHidden,mutablyVisible:t.mutablyVisible,immutablyHidden:t.immutablyHidden,immutablyVisible:t.immutablyVisible,flexiblyHidden:t.flexiblyHidden,flexiblyVisible:t.flexiblyVisible};function*r(){for(let o of Object.keys(e))yield o}function*n(){for(let o of Object.values(e))yield o}function*s(){for(let o of Object.entries(e))yield o}function*i(){for(let[o,a]of s())yield[o,JSON.parse(a.description)]}return Object.defineProperties(t,{enumeration:{get(){return e},enumerable:!1},keys:{get(){return r()},enumerable:!1},symbols:{get(){return n()},enumerable:!1},entries:{get(){return s()},enumerable:!1},descriptors:{get(){return i()},enumerable:!1},descriptorFor:{value(o){try{return JSON.parse(o.description)}catch{}},enumerable:!1},[Symbol.iterator]:{get(){return n()}}}),t}var L=De(),I=class extends M{overrides=void 0;constructor(e){super(e,(r,n,s,i)=>{let o=n?.value;if(!n||typeof n.value!="object")return M.makeResponse(n,"nochange");if(!o&&(n?.get||n?.set)){let a=this.applyOverridesTo(n);return M.makeResponse(a,"nochange")}return o=me({deep:!1},{},o??{}),this.walkAndApply(o),n.value=o,M.makeResponse(n,"continue")}),be(()=>this.overrides=JSON.parse(property.description))}applyOverridesTo(e,r=!1){let n=["value","get","set","writable","configurable","enumerable"],s=r?e:{...e};for(let[i,o]of Object.entries(this.overrides??{}))~n.indexOf(i)&&["get","set"].some(a=>a===i)&&["undefined","function"].some(a=>typeof o===a)&&(["enumerable","configurable","writable"].some(a=>a===i)&&typeof o!="boolean"||(o=!!o),delete s[i],s[i]=o);return s}walkAndApply(e){Reflect.ownKeys(e).forEach(r=>{be(()=>{let n=Object.getOwnPropertyDescriptor(e,r);this.applyOverridesTo(n,!0),Object.defineProperty(e,r,n)})})}},z=class extends I{constructor(){super(L.mutablyVisible)}static get shared(){return this.#e??(this.#e=new this)}static#e},Q=class extends I{constructor(){super(L.mutablyHidden)}static get shared(){return this.#e??(this.#e=new this)}static#e},X=class extends I{constructor(){super(L.immutablyVisible)}static get shared(){return this.#e??(this.#e=new this)}static#e},Y=class extends I{constructor(){super(L.immutablyHidden)}static get shared(){return this.#e??(this.#e=new this)}static#e},Z=class extends I{constructor(){super(L.flexiblyVisible)}static get shared(){return this.#e??(this.#e=new this)}static#e},_=class extends I{constructor(){super(L.flexiblyHidden)}static get shared(){return this.#e??(this.#e=new this)}static#e};Object.defineProperties(M,{MutablyHiddenHandler:{get(){return Q.shared}},MutablyVisibleHandler:{get(){return z.shared}},ImmutablyHiddenHandler:{get(){return Y.shared}},ImmutablyVisibleHandler:{get(){return X.shared}},FlexiblyHiddenHandler:{get(){return _.shared}},FlexiblyVisibleHandler:{get(){return Z.shared}},handlers:{value:[Q,z,Y,X,_,Z].map(t=>t.shared),configurable:!0,enumerable:!0}});function ee(t,e,...r){let n={deep:t||!1,propertyHandlers:M?.handlers??[]};return me(n,e,...r)}function me(t,e,...r){let n=new Set,[s,i,o]=fr(t,e,...r),{deep:a}=s;for(let u of o){if(u===null||typeof u!="object"||n.has(u))continue;n.add(u);let f=Reflect.ownKeys(u);for(let l of f){let p;try{p=Object.getOwnPropertyDescriptor(u,l)}catch(g){console.warn(`Failed to get descriptor for key "${l}": ${g}`);continue}let h=Reflect.has(p,"value"),d=p?.value;if([h,d,typeof d=="object",!n.has(d)].every(g=>g)){n.add(d);let g=Object.getPrototypeOf(d),x=Object.getOwnPropertyDescriptors(d),C=Object.create(g,x);p.value=a?me(s,C,d):C}try{Object.defineProperty(i,l,p)}catch(g){console.error(`Failed to define property "${l}": ${g}`)}}}return i}function fr(t,e,...r){let{deep:n=!0,propertyHandlers:s=[]}=t;return n=!!n,s=(Array.isArray(s)?s:[s]).filter(o=>o instanceof M),s=ke(s,Me)({}),t={deep:n,propertyHandlers:s},r=r.filter(o=>o&&typeof o=="object"),e||(e={}),[t,e,r]}var pr=ee;var yt=new Map([["object",Object],[Object,"object"],["Object",Object],["number",Number],[Number,"number"],["Number",Number],["string",String],[String,"string"],["String",String],["function",Function],[Function,"function"],["Function",Function],["boolean",Boolean],[Boolean,"boolean"],["Boolean",Boolean],["bigint",BigInt],[BigInt,"bigint"],["BigInt",BigInt],["symbol",Symbol],[Symbol,"symbol"],["Symbol",Symbol],["undefined",void 0],[void 0,"undefined"],["null",null],[null,"null"]]),c={a(t,e){let r=typeof t,n=this.object(t)&&t[Symbol.toStringTag];if(t===e)return!0;if(this.function(e)){let s=this.object(e)&&e[Symbol.toStringTag];return n&&n===e.name||e?.prototype&&t instanceof e?!0:yt.get(r)===e}else{if(yt.get(r)?.name===e)return!0;if(r===e||n===e)return!0}return!1},accessorDescriptor(t){return!!(this.descriptor(t)&&(t?.get||t?.set)&&t?.writable===void 0&&t?.value===void 0)},array(t){return Array.isArray(t)},bigint(t){return typeof t=="bigint"||t instanceof globalThis?.BigInt},boolean(t){return[!0,!1].some(e=>e===t)},callable(t){return this.function(t)},callableDescriptor(t){let{value:e,get:r,set:n}=this.shiny(t)?t:{};return[e,r,n].some(s=>this.function(s))},dataDescriptor(t){return this.descriptor(t)&&(t?.value||t?.writable)&&t?.get===void 0&&t?.set===void 0},descriptor(t){if(!c.object(t))return!1;let e=i=>Reflect.has(t,i),r=["configurable","enumerable"].some(i=>e(i)),n=["value","writable"].some(i=>e(i)),s=["get","set"].some(i=>e(i));return r||n||s},false(t){return t===!1},falsy(t){return!t},falsey(t){return this.falsy(t)},function(t){return typeof t=="function"||t instanceof Function},iterable(t){let e=Object(t);return e&&Reflect.has(e,Symbol.iterator)},nullish(t){return t==null},number(t){return typeof t=="number"||t instanceof Number},object(t){return!!(t&&typeof t=="object")},primitive(t){return this.nullish(t)?!0:["string","number","boolean","bigint","symbol"].some(e=>typeof t===e)},shiny(t){return!!(this.object(t)||this.function(t))},string(t){return typeof t=="string"||t instanceof String},symbol(t){return typeof t=="symbol"||t instanceof Symbol},true(t){return t===!0},truthy(t){return!!t}},te={a(t,e,r,n){let s=c.function(r)?r():r,i=c.function(n)?n():n;return c.a(t,e)?r:n},accessorDescriptor(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.accessorDescriptor(t)?n:s},array(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.array(t)?n:s},bigint(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.bigint(t)?n:s},boolean(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.boolean(t)?n:s},callable(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.callable(t)?n:s},callableDescriptor(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.callableDescriptor(t)?n:s},dataDescriptor(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.dataDescriptor(t)?n:s},descriptor(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.descriptor(t)?n:s},false(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.false(t)?n:s},falsy(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.falsy(t)?n:s},falsey(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.falsey(t)?n:s},function(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.function(t)?n:s},iterable(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.iterable(t)?n:s},nullish(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.nullish(t)?n:s},number(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.number(t)?n:s},object(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.object(t)?n:s},primitive(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.primitive(t)?n:s},shiny(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.shiny(t)?n:s},string(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.string(t)?n:s},symbol(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.symbol(t)?n:s},then(t,e,r){let n=c.function(t)?t():t,s=c.function(e)?e():e,i=c.function(r)?r():r;return n?s:i},true(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.true(t)?n:s},truthy(t,e,r){let n=c.function(e)?e():e,s=c.function(r)?r():r;return c.truthy(t)?n:s}},j=function(e,r){return[Map,Set,WeakMap,WeakSet].some(n=>e instanceof n)?e.has(r):c.shiny(e)&&Reflect.has(e,r)};Object.assign(j,{all(t,e){return!c.shiny(t)||!c.array(e)||!e.length?!1:e.every(r=>j(t,r))},some(t,e){return!c.shiny(t)||!c.array(e)||!e.length?!1:e.some(r=>j(t,r))},prototype(t){return c.shiny(t)&&j(t,"prototype")},stringTag(t){return c.object(t)&&j(t,Symbol.toStringTag)},toPrimitive(t){return c.object(t)&&j(t,Symbol.toPrimitive)},valueOfFn(t){return c.object(t)&&j(t,"valueOf")&&c.function(t.valueOf)}});var re={array(t){return c.iterable(t)&&Array.from(t)||void 0},object(t){return Object(t)},string(t,e={description:!1,stringTag:!1}){if(t==null)return String(t);if(c.symbol(t)&&e?.description)return t.description;if(j.stringTag(t)&&e?.stringTag)return t[Symbol.toStringTag];if(c.function(t?.[Symbol.toPrimitive])){let r=t[Symbol.toPrimitive]("string");if(c.string(r))return r}if(c.function(t?.valueOf)){let r=t.valueOf();if(c.string(r))return r;if(!c.object(r))return String(r)}if(c.function(t?.toString)){let r=t.toString();if(c.string(r))return r}return String(t)},integerString(t){return this.numberString(t).split(".")[0]},numberString(t){let r=this.string(t).trim().replace(/[^0-9.eE+-]/g,"").match(/^[-+]?\d*\.?\d+([eE][-+]?\d+)?/);return r?r[0]:""},number(t){return Number(this.numberString(t))},bigint(t){let e=globalThis?.BigInt;return e(this.integerString(t))},boolean(t){switch(String(t).toLowerCase()){case"1":case"yes":case"true":return!0;case"0":case"no":case"false":return!1;default:return!!t}}};function dr(){return{si:te,is:c,has:j,as:re}}var{isClass:mr,isFunction:ne}=q.patches,hr=Symbol.for("nodejs.util.inspect.custom"),se=new m(globalThis,{[m.kMutablyHidden]:{...Ce,as:re,has:j,is:c,si:te,isThenElse(t,e,r){if(arguments.length>1){let n=ne(e)?e(t):e;if(arguments.length>2){let s=ne(r)?e(t):r;return t?n:s}return t||n}return t},maskAs(t,e,r){let{prototype:n,toPrimitive:s}=GenericMask({...r,prototype:e}),i={configurable:!0,enumerable:!1},o=ne(n)?n.prototype:n,a=mr(n)?n:o?.constructor;return!a&&!o?null:(Object.setPrototypeOf(t,o),Object.defineProperties(t,{valueOf:{value(){return String(s("default",t))},...i},[Symbol.toPrimitive]:{value(u){return s(u,t)},...i},[Symbol.toStringTag]:{value:a.name,...i},[Symbol.species]:{get(){return a},...i},[hr]:{...i,value(u,f,l){return l(this[Symbol.toPrimitive](),{...f,depth:u})}}}),t)},maskAsString(t,e,r){return t&&Reflect.has(t,e)?maskAs(t,StringMask(e??"value",r)):null},maskAsNumber(t,e,r){return t&&Reflect.has(t,e)?maskAs(t,NumberMask(e??"value",r)):null},GenericMask({prototype:t,targetKey:e="value",toPrimitive:r}){let n={targetKey:e,toPrimitive:r,prototype:t};return ne(r)||(n.toPrimitive=(s,i)=>{let o=i[e],a=typeof o=="number"&&Number.isFinite(o)||typeof o=="string"&&!isNaN(parseFloat(o))&&isFinite(o);switch(s){case"string":return a?String(o):o??String(i);case"number":return a?Number(o):NaN;case"default":default:return a?Number(o):o}}),n},StringMask(t,e){let r={targetKey:t,toPrimitive:e,prototype:String.prototype};return ne(e)||(r.toPrimitive=function(s,i){switch(s){case"default":return i[t];case"number":return parseInt(i[t],36);case"string":return String(i[t]);default:return i}}),r},NumberMask(t,e){let r={targetKey:t,toPrimitive:e,prototype:Number.prototype};return ne(e)||(r.toPrimitive=function(s,i){switch(s){case"default":return i[t];case"number":return Number(i[t]);case"string":return String(i[t]);default:return i}}),r},blendProtos(t,...e){let r=(l,p)=>Object.getOwnPropertyDescriptor(l,p),n=l=>Object.getPrototypeOf(l),s=l=>Reflect.ownKeys(l).reduce((p,h)=>({...p,[h]:r(l,h)}),{}),i=Object.create(n(t),e.reduce),o=e.map(l=>n(l)),a=Object.create(null),u=new Set;for(let l of o){let p=l;for(;p;)u.has(p)||(u.add(p),a={...a,...s(p)}),p=n(p)}let f=Object.create(n(t),a);return Object.setPrototypeOf(i,f)}}});var ie=new m(JSON,{[m.kMutablyHidden]:{extractAllFrom(t){let e=this.JSONStartPattern,r=Symbol("Value is not valid JSON"),n=o=>{try{return JSON.parse(o)}catch{return r}},s=[],i;for(;i=e.exec(t);)s.push(n(i?.[0]));return s.filter(o=>o!==r)},extractFrom(t){this.extractAllFrom(t)?.[0]},mightContain(t,e=!1){let r=this.JSONStartPattern.exec(t);return e?[!!r,r?.index??-1,r]:!!r},get JSONStartPattern(){return new RegExp(["(?:","(null)|","(true|false)|","(\\d+\\.?\\d*)|",'("[^\\"]*(?:[^:])")|',"((?:\\{.*\\})+)|","((?:\\[.*\\]+))",")+"].join(""),"gm")}}});var ve=new m(Map,{[m.kMutablyHidden]:{isMap(t){return t?.[Symbol.toStringTag]===Map.name&&t instanceof Map},ifMap(t,e,r){return br(this.isMap(t),e,r)}}}),{isMap:yr,ifMap:gr}=ve.patches,gt=new m(Map.prototype,{[m.kMutablyHidden]:{get isMap(){return yr(this)},ifMap(t,e){return gr(this,t,e)},getKey(t,e=!0){for(let[r,n]of this)return e&&t===n&&!e&&t==n?r:null}}});function br(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}var Ie=new m(Number,{[m.kMutablyHidden]:{isNumber(t){return!isNaN(t)&&typeof t=="number"},areNumbers(t=["every","some"][0],...e){return t!=="every"&&t!=="some"?!1:e[t](r=>this.isNumber(r))},ifNumber(t,e,r){return bt(this.isNumber(t),e,r)},ifNumbers(t,e,r=["every","some"][0],...n){return bt(this.areNumbers(r,...n),t,e)},clamp(t,e=-1/0,r=1/0){return this.areNumbers("every",t,e,r)?Math.max(e,Math.min(r,t)):t}}}),{isNumber:Sr,ifNumber:Er}=Ie.patches,St=new m(Number.prototype,{[m.kMutablyHidden]:{get instance(){return Object(this)},get isNumber(){return Sr(this)},ifNumber(t,e){return Er(this,t,e)}}});function bt(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}var G=class t{add(e,{associate:r={},embed:n=void 0,useDomain:s=void 0,useSeparator:i=void 0,useToken:o=void 0}){let a=o??t.token,u=this.calculateName(e,s,i);if(n&&typeof n=="object")try{u+=` ${JSON.stringify(n)}`}catch{console.warn(`Cannot create JSON from ${n}; skipping`)}let f=Symbol.for(`@${u} #${a}`);return this[t.kDataKey].set(f,r??{}),f}sharedKey(e,{associate:r,embed:n,useDomain:s,useSeparator:i}){let o=this.calculateName(e,s,i),a="";if(n&&typeof n=="object")try{a=` ${JSON.stringify(n)}`}catch{}let u=Symbol.for(`@${o}${a} #shared`);return this[t.kDataKey].has(u)?(r&&u.isSymkey&&(u.data=r),u):this.add(e,{associate:r??{},embed:n,useDomain:s,useSeparator:i,useToken:"shared"})}data(e){return this[t.kDataKey].get(e)}deleteData(e,r=void 0){if(this.hasData(e)){let n=this[t.kDataKey].delete(e);return r!==void 0&&this[t.kDataKey].set(e,r),n}return!1}hasData(e){return this[t.kDataKey].has(e)}setData(e,r){return this.hasData(e)?(this[t.kDataKey].set(e,r),!0):!1}token(e){return/^.* \#(.*?)$/.exec(e)?.description?.[1]}get separator(){return this[kSeparator]}symbols(){return this[t.kDataKey].keys()}calculateName(e,r,n){let s=String(r||this[t.kDomain]),i=String(n||this[t.kSeparator]),o=String(e).startsWith(i)?e.substring(1):e;return s.length?s.endsWith(i)&&(s=s.substring(0,s.length-1)):i="",`${s}${i}${o}`}constructor(e="",r="."){let n=Object.create(Object.getPrototypeOf(this));this[t.kPrototype]=n,this[t.kDataKey]=new Map,this[t.kDomain]=typeof e=="string"&&e,this[t.kSeparator]=r;let s=this[t.kDataKey];Object.setPrototypeOf(this,new Proxy(Object.create(n),{getPrototypeOf(i){return n},get(i,o,a){return s.has(o)?s.get(o):Reflect.get(i,o,a)},has(i,o){return s.has(o)||Reflect.has(i,o)},ownKeys(i){return[...Array.from(s.keys()),...Reflect.ownKeys(i)]},set(i,o,a,u){return s.has(o)?(s.set(o,a),!0):!1},getOwnPropertyDescriptor(i,o){let a=[...s.entries()].reduce((u,f)=>Object.assign(u,{[f[0]]:f[1]}),{});return Object.getOwnPropertyDescriptor(a,o)}}))}static isSymkey(e){return typeof e=="symbol"||e instanceof Symbol?!!/^@.*? #\w+$/.exec(e?.description):!1}static get token(){return Math.random().toString(36).slice(2)}static get kDataKey(){return Symbol.for("symkeys.data")}static get kPrototype(){return Symbol.for("symkeys.prototype")}static get kDomain(){return Symbol.for("symkeys.domain")}static get kSeparator(){return Symbol.for("symkeys.separator")}},Ne=new S(G);var F=new $(ie),xr=new G("nejs"),W=new m(Symbol,{add(t,{associate:e={},embed:r,useToken:n,useDomain:s,useSeparator:i}){return this.keys.add(t,{associate:e,embed:r,useToken:n,useDomain:s,useSeparator:i})},deleteData(t,e=void 0){return this.keys.deleteData(t,e)},evalKey(t,e,r){let n={string(o){return typeof o=="string"},func(o){return typeof o=="function"},object(o){return typeof o=="object"},objKey(o){return["symbol","string"].some(a=>typeof o===a)}};n.key=n.objKey(t);let s=n.string(r)&&r||n.func(r)&&r?.name||n.object(r)&&r?.[Symbol.toStringTag]||void 0,i=[s&&`${s}.`||"",n.objKey(e)&&`${e}.`||"",n.objKey(t)&&`${t}`].join("");return this.sharedKey(`internal.refkey:${i}`,{token:i})},hasData(t){return this.keys.hasData(t)},isSymbol(t){return t&&typeof t=="symbol"},isRegistered(t,e=!1){if(!Symbol.isSymbol(t)){if(e)throw new TypeError("allowOnlySymbols specified; value is not a symbol");return!1}return Symbol.keyFor(t)!==void 0},isNonRegistered(t,e=!1){return!Symbol.isRegistered(t,e)},get keys(){return xr},setData(t,e){this.keys.setData(t,e)},sharedKey(t,e){return this.keys.sharedKey(t,e)},get singleton(){return Symbol.for("singleton")},withData(t,e){return e!==void 0?Symbol.for(`${t} ${JSON.stringify(e)}`):Symbol.for(t)}}),Et=new m(Symbol.prototype,{[m.kMutablyHidden]:{get instance(){return Object(this)},get data(){if(Symbol?.keys&&G.isSymkey(this)){let r=Symbol.keys[this];if(r)return r}let t,e=!1;if(ie.applied||(F.start(),e=!0),JSON.mightContain(this.description))try{t=JSON.extractFrom(this.description)}catch{}return e&&F.stop(),t},set data(t){G.isSymkey(this)?Symbol.keys.setData(this,t):console.error(`The symbol ${this.description} is not a symkey`)},get embeddedJSON(){return F.perform((t,e)=>{let[r,n,s]=JSON.mightContain(this.description,!0);if(r)return s?.[0]})},get embeddedJSONParsed(){let t=this.embeddedJSON;if(t)try{return JSON.parse(t)}catch{console.error(`Failed to parse json: "${t}"`)}},get isSymkey(){return G.isSymkey(this)},get mightHaveEmbeddedJSON(){return F.perform((t,e)=>JSON.mightContain(this.description))},get refObject(){let t=/@nejs.internal.refkey:(\S+) #shared/.exec(this.description);if(t?.[1]){let[e,r]=t,n=`internal.refkey:${r}`;return W.patches.sharedKey(n)?.data}},get sgrString(){let{sgr:t}=String;return t||(t=(r,...n)=>r),F.perform((r,n)=>{let[s,i,o]=JSON.mightContain(this.description,!0),a=o?.[0];if(s&&~i&&a&&a.length>30){let u=this.description;return`${[t(`Symbol.for(${u.slice(0,i)}`,"green"),t(a.slice(0,10),"di"),"...",t(a.slice(-5),"di"),t(`${u.slice(i+a.length+1)})`,"green")].join("")}`}})??this.description},[Symbol.for("nodejs.util.inspect.custom")](t,e,r){let n=!1,s,{sgr:i}=String;if(i||(i=(o,...a)=>o),ie.applied||(F.start(),n=!0),s=JSON.mightContain(this.description,!0)){let o=s[2]?.[0],a=s[1];if(~a&&o&&o.length>30){let u=this.description,f=[i(`Symbol.for(${u.slice(0,a)}`,"green"),i(o.slice(0,10),"di"),"...",i(o.slice(-5),"di"),i(`${u.slice(a+o.length+1)})`,"green")].join("");return n&&F.stop(),`${f}`}}return n&&F.stop(),r(this,{colors:!0})}}});var Le={get accessor(){function t(e,r,n=!0,s=!0,i,o="value",a){let u=arguments.length,l=["get","set","configurable","enumerable",...["storage","key","liaison","initial","bind"]],p=(y,b)=>k(y)&&Reflect.has(y,b),h=y=>l.some(b=>p(y,b)),d=!!n,E,g=!1,x={};u===1&&k(e)&&xt(e,...l)&&(x={...e},{get:e,set:r}=e),(k(n)||k(r))&&(x=k(r)&&u===2?{...r}:{...n},{configurable:d,enumerable:s,storage:i,key:o,bind:g,initial:E}=x),a=x?.liaison??a??((y,b)=>({get(){if(y instanceof Map)return y.get(b);if(k(y))return y[b]},set(R){y instanceof Map?y.set(b,R):k(y)&&(y[b]=R)}})),d=d??!0,s=s??!0,o=o??"value",g=g??!1;let C=y=>typeof y=="function",T=y=>C(y)&&y.length===0,v=y=>C(y)&&y.length===1,A=y=>y===!0,P=y=>y===!1,O=(y,b)=>Object.defineProperties(y,{storage:{value:b,configurable:!0,enumerable:!0},key:{value:o,configurable:!0,enumerable:!0}});if(u===0||!e&&!r){i={[o]:E};let y=a(i,o);return e=O(function(){return y.get()},i),r=O(function(b){y.set(b)},i),{get:e,set:r,configurable:d,enumerable:s}}if(u===1&&v(e)&&(r=!1),A(r)||P(r)){i={[o]:e};let y=a(i,o),b=function(){return y.get()},R=function(fe){y.set(fe)};return g&&(b=b.bind(i),R=R.bind(i)),e=O(b,i),r=O(R,i),{get:e,set:P(r)?void 0:r,configurable:d,enumerable:s}}if(T(e)&&!r||T(e)&&v(r)){let y={get:e,set:r,configurable:d,enumerable:s};return k(x)&&Reflect.has(x,"initial")&&y.set(E),y}if(v(e)&&v(r)){i=i||{};let y=e(i),b=r(i);return g&&(y=y.bind(i),b=b.bind(i)),{get:O(y,i),set:O(b,i),configurable:d,enumerable:s}}return{get:e,set:r,configurable:d,enumerable:s}}return Object.defineProperty(t,"keys",{get(){return["get","set","configurable","enumerable"]},configurable:!0,enumerable:!0}),t},get data(){function t(e,r,n,s){if(arguments.length===0)return{value:void 0,writable:!0,configurable:!0,enumerable:!0};let i=k(r)?!!r:!0,o=typeof r=="boolean"?{}:r;return n=n??!0,s=s??!0,k(e)&&xt(e,"value")&&(o=e,{value:e}=e),k(r)&&({writable:i,configurable:n,enumerable:s}={writable:!0,configurable:!0,enumerable:!0,...r}),{value:e,writable:i,configurable:n,enumerable:s}}return Object.defineProperty(t,"keys",{value:["value","writable","configurable","enumerable"],writable:!1,configurable:!0,enumerable:!0}),t},isDescriptor(t,e=!1,r=!0){if(!t||typeof t!="object"||!(t instanceof Object))return!1;let n=(...g)=>g.flat().every(x=>p.includes(typeof t[x])),s=(...g)=>g.flat().every(x=>h.includes(typeof t[x])),i=g=>Reflect.has(t,g),o=g=>x=>typeof x===g,a=["configurable","enumerable"],u=["value","writable"],f=["get","set"],l=[...a,...u,...f],p=["undefined","boolean"],h=["undefined","function"],d={confidence:0,hasAccessorKeys:!1,hasBaseDescriptorKeys:!1,hasDataKeys:!1,isAccessor:!1,isData:!1,isValid:!1},E=0;if(t&&typeof t=="object"){let g=Reflect.ownKeys(t),x=g.filter(C=>!l.includes(C));if(r&&x.length)return!1;g.length<=4&&E++,d.hasAccessorKeys=f.some(i)&&s(f),d.hasDataKeys=u.some(i)&&n("writable"),d.hasBaseDescriptorKeys=a.some(i)&&n(a),d.hasBaseDescriptorKeys&&E++,(d.hasAccessorKeys||d.hasDataKeys)&&E++,E>0&&(d.isValid=!0),E>0&&d.hasAccessorKeys&&(d.isAccessor=!0),E>0&&d.hasDataKeys&&(d.isData=!0),(d.isValid&&d.isData&&Reflect.has(t,"value")||d.isValid&&d.isAccessor&&[t?.get,t?.set].some(o("function")))&&E++,d.hasAccessorKeys&&d.hasDataKeys&&(E=0,d.isValid=!1),d.confidence=parseFloat(E/4)}return e?d:E>=0},get kAccessorDescriptorKeys(){return["get","set"]},get kDataDescriptorKeys(){return["value","writable"]},get kSharedDescriptorKeys(){return["configurable","enumerable"]},get kDescriptorKeys(){return[...this.kAccessorDescriptorKeys,...this.kDataDescriptorKeys,...this.kSharedDescriptorKeys]}},{accessor:Se,data:Ge,isDescriptor:B}=Le,{kAccessorDescriptorKeys:Fe,kDataDescriptorKeys:Be,kDescriptorKeys:He,kSharedDescriptorKeys:Ve}=Le;function k(t){return t&&typeof t=="object"}function xt(t,...e){return Tr("some",t,e)}function Tr(t,e,r){return k(e)&&r.flat(1/0).map(n=>Reflect.has(e,n))[t](n=>n)}var H=class t{_desc=void 0;_object=void 0;constructor(e,r){if(arguments.length===0?this._desc=t.enigmatic:t.isDescriptor(e)?(this._desc=e,this._object=D(r)?r:void 0):D(e)&&he(r)&&(console.log("new Descriptor(%o, %o)",e,r),this._desc=Object.getOwnPropertyDescriptor(e,r),this._object=e),!this.isDescriptor){let n=e===globalThis?"[GLOBAL]":typeof r=="object"?JSON.stringify(e):String(e),s=r===globalThis?"[GLOBAL]":typeof r=="object"?JSON.stringify(r):String(r);throw console.error(`
      Descriptor(object: ${e}, key: ${r}) FAILED:
        object:      ${n}
        key:         ${s}
        descriptor:  `,this._desc),new Error("Not a valid descriptor:",this._desc)}}get isAccessor(){return B(this._desc,!0).isAccessor}get isData(){return B(this._desc,!0).isData}get isDescriptor(){return B(this._desc)}get boundGet(){return D(this._object)?this.get?.bind(this._object):this.get}get boundSet(){return D(this._object)?this.set?.bind(this._object):this.set}get hasObject(){return D(this._object)}get object(){return this._object}set object(e){this._object=Object(e)}applyTo(e,r,n=!1){if(!D(e)||!he(r))throw new Error("Cannot apply descriptor to non-object or invalid key");return Object.defineProperty(e,r,this.toObject(n))}toObject(e=!1){let r={...this._desc};return e&&this.isAccessor&&(this.hasObject?r={...r,get:this.boundGet,set:this.boundSet}:D(e)&&(r={...r,get:this.get?.bind(e),set:this.set?.bind(e)})),r}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){return`Descriptor${this.isAccessor?" (Accessor)":this.isData?" (Data)":""} ${n(this._desc,{...r,depth:e})}`}[Symbol.toPrimitive](e){switch(e){case"string":if(this.isAccessor){let r=[];return Reflect.has(this._desc,"get")&&r.push("getter"),Reflect.has(this._desc,"set")&&r.push("setter"),`Accessor (${r.join(", ")})`}else if(this.isData){let r=[];return Reflect.has(this._desc,"value")&&r.push("value"),Reflect.has(this._desc,"writable")&&r.push("writable"),`Data (${r.join(", ")})`}break;case"number":return NaN;default:return this.toObject()}}get[Symbol.toStringTag](){return this.constructor.name}static getData(e,r){if(!D(e)||!Reflect.has(e,r))return;let n=t.for(e,r,!0);return n.isData?n.value:null}static getAccessor(e,r){if(!D(e)||!Reflect.has(e,r))return;let n=t.for(e,r,!0);return n.isAccessor?n.get.bind(e)():null}static base(e=!1,r=!1){return{enumerable:e,configurable:r}}static accessor(){return Se(...arguments)}static data(e,r=!0,{enumerable:n,configurable:s}={configurable:!0,enumerable:!0}){return Ge(e,r,n,s)}static for(e,r,n=!1){return!D(e)||!he(r)||!Reflect.has(e,r)?null:n?new t(Object.getOwnPropertyDescriptor(e,r)):Object.getOwnPropertyDescriptor(e,r)}static isDescriptor(e,r=!1){return B(e,r)}static isAccessor(e,r){let s=e&&r&&D(e)&&he(r)?t.for(e,r):e;return B(s,!0).isAccessor}static isData(e,r){let s=e&&r&&D(e)&&he(r)?t.for(e,r):e;return B(s,!0).isData}static get flexible(){return{enumerable:!0,configurable:!0}}static get enigmatic(){return{enumerable:!1,configurable:!0}}static get intrinsic(){return{enumerable:!1,configurable:!1}}static get transparent(){return{enumerable:!0,configurable:!1}}static get SHARED_KEYS(){return Ve}static get ACCESSOR_KEYS(){return Fe}static get DATA_KEYS(){return Be}static{for(let e of He)Object.defineProperties(t.prototype,{[e]:Se(function(n){return function(){return this._desc[e]}},function(n){return function(i){this._desc[e]=i}})})}},$e=new S(H);function Ee(t,e,r=!0){return n=>(!r||r&&n!==null&&n!==void 0)&&(typeof n===t||n&&n instanceof e)}function D(t){return Ee("object",Object)(t)}function Or(t){return Ee("string",String)(t)}function Pr(t){return Ee("number",Number)(t)}function wr(t){return Ee("symbol",Symbol)(t)}function he(t){return Or(t)||Pr(t)||wr(t)}var N=class t{constructor(e,r){if(e.startsWith(":")&&(e=Symbol.for(e.slice(1))),typeof e!="string"&&typeof e!="symbol")throw new TypeError("Key or symbol or :symbol must be supplied!");this.key=e,t.is.descriptor(r)?this.descriptor=r:this.descriptor={value:r,writable:!0,configurable:!0,enumerable:!0}}apply(e,r){if(!(!e||!["object","function"].some(n=>n==typeof e)))return Object.defineProperty(e,r??this.key,this.descriptor)}get descriptor(){let e={configurable:!0,enumerable:!1},r={enumerable:this.meta.enumerable,configurable:this.meta.configurable};return this.is.accessor?(r.get=this.meta.accessor.get,r.set=this.meta.accessor.set):(r.value=this.meta.data.value,r.writable=this.meta.data.writable),Object.defineProperties(r,{make:{...e,get(){let n=this;return{get enumerable(){return n.enumerable=!0,n},get hidden(){return n.enumerable=!1,n},get writable(){return n.writable=!0,n},get readonly(){return n.writable=!1,n},get configurable(){return n.configurable=!0,n},get immutable(){return n.configurable=!1,n}}}},is:{...e,get(){let n=this;return{get accessor(){return n.is.accssor},get data(){return n.is.data}}}}})}set descriptor(e){let{is:r}=this.constructor;if(r.descriptor(e))if(this.meta.configurable=e.configurable??!0,this.meta.enumerable=e.enumerable??!0,Reflect.has(e,"get")||Reflect.has(e,"set")){let{get:n,set:s}=e;n!==void 0&&(this.meta.accessor.get=n),s!==void 0&&(this.meta.accessor.set=s)}else{let{value:n,writable:s}=e;this.meta.data.value=n,this.meta.data.writable=s??!0}}get is(){let e=this;return{get accessor(){return!!(e.meta.accessor.get||e.meta.accessor.set)},get data(){return!this.accessor}}}toString(e=!1,{key:r,descriptor:n}={}){let s=h=>e?`\x1B[1m${h}\x1B[22m`:h,i=h=>e?`\x1B[2m${h}\x1B[22m`:h,o=h=>e?`\x1B[31m${h}\x1B[39m`:h,a=h=>e?`\x1B[32m${h}\x1B[39m`:h,u=h=>e?`\x1B[34m${h}\x1B[39m`:h;r||({key:r}=this),(!n||!t.is.descriptor(n))&&({descriptor:n}=this);let f=[`${s(r)} { `],l=h=>d=>Reflect.has(h,d),p=(h,d=(E,g)=>E===g)=>E=>d(E,h);return["get","set"].some(l(n))?(n.get&&(f.push(u("getter")),n.set&&f.push(s("|"))),n.set&&f.push(u("setter"))):(f.push(a("value")),f.push(s("|")),f.push(n.writable?a("writable"):o("readonly"))),f.push(" "),f.push(n.configurable?a("mutable"):o("immuatable")),f.push(" "),f.push(n.enumerable?a("visible"):o("hidden")),f.push(" }"),f.join("")}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){return this.toString(!0)}static accessor(e,{get:r,set:n,prototype:s},{configurable:i,enumerable:o,storage:a}={}){if(!r&&!n&&s){let u=s?.constructor;u?.name==="get"?r=u:u?.name==="set"&&(n=u)}if(r&&a&&r.length==1&&(r=r(a)),n&&a&&n.length==1&&(n=n(a)),!e&&!r&&!n)throw new TypeError("Cannot create accessor");return i??=!0,o??=!0,new t(e,{get:r,set:n,configurable:i,enumerable:o})}static data(e,r,{writable:n,configurable:s,enumerable:i}={}){if(!e)throw new TypeError("Cannot create data property without name");return n??=!0,s??=!0,i??=!0,new t(e,{value:r,writable:n,configurable:s,enumerable:i})}static from(e,r){let n=Object.getOwnPropertyDescriptor(e,r);return new t(r,n)}static get is(){return{object(e){return e&&["object","function"].some(r=>r==typeof e)},descriptor(e){if(!t.is.object(e))return!1;let r=s=>Reflect.has(e,s),n={base:["configurable","enumerable"],data:["writable","value"],accessor:["get","set"]};return Object.getOwnPropertyNames(e).length>4||n.data.some(r)&&n.accessor.some(r)?!1:!!(n.base.some(r)||n.data.some(r)||n.accessor.some(r))}}}static{let e=Object.assign(Object.create(null),{key:void 0,meta:{enumerable:!0,configurable:!0,accessor:{get:void 0,set:void 0},data:{value:void 0,writable:!0}}});Tt(this.prototype,"key",e.key,e),Tt(this.prototype,"meta",e.meta,e)}},Ke=new S(N);function Tt(t,e,r,n={}){return n[e]=r,Object.defineProperty(t,e,{get(){return n[e]},set(s){n[e]=s},enumerable:!0,configurable:!0}),Object.getOwnPropertyDescriptor(t,e)}var{keys:jr}=W.patches,oe=new m(Object,{[m.kMutablyHidden]:{add(...t){let{isDescriptor:e}=H,{isObject:r}=this,{kDescriptorStore:n}=this,s,i,o,a,u,f,l,p,h,d;if(t.length&&r(t[0])?{to:s,key:i,value:o,get:a,set:u,storage:f,storageKey:l,type:p=["accessor","data"][1],flag:h=void 0,descriptorBase:d=void 0}=t[0]:t.length>1&&([to,p,i,getOrValue,u,f,l,h,d]=t,s=to,p=["accessor","data"].includes(p.toLowerCase())?p.toLowerCase():"data",a=p==="accessor"?getOrValue:void 0,_value=p==="data"?getOrValue:void 0),!this.isObject(s))return console.warn("Object.add() must receive an object for `toObject`"),s;let E=e(d)?d:{},g=h||Object.definitionType.mutablyVisible,x={...m.getDescriptorOverridesFromSymbol(g),...E};switch(["accessor","data"].includes(p)?String(p).toLowerCase():"data"){case"accessor":let T=f,v=l||i,A=!1,P=a,O=u;if(!c.truthy(P)&&!c.function(P)&&(P=void 0),!c.truthy(O)&&!c.function(O)&&(O=void 0),(r(T)||c.true(T)||c.function(T))&&(A=c.true(T),T=c.fn(T)?T():T,T=c.object(T)?T:A&&{}||void 0),!P&&!O&&A)Object.defineProperty(s,n,{value:jr.add("descriptor.store",T),configurable:!0,enumerable:!1,writable:!0}),P=()=>this[n]?.data?.[v],O=y=>{this[n].data[v]=y};else if(P?.length&&O?.length>1&&T){let y=P,b=O;P=()=>y(T),O=R=>b(R,T)}Object.defineProperty(s,i,{...x,get:P,set:O});break;case"data":Object.defineProperty(s,i,{...x,value:o});break}return s},addAccessor(t,e,r,n,s){let i=s??(!r&&!n)?!0:void 0;return this.add({to:t,key:e,get:r,set:n,storage:i})},addData(t,e,r){return this.add({to:t,key:e,value:r})},copy(t,...e){return ee(!1,t,...e)},deepCopy(t,...e){return ee(!0,t,...e)},define(t,e,r,n=Object.definitionType.mutablyHidden){let s=m.getDescriptorOverridesFromSymbol(n);return Object.defineProperty(t,e,{...s,value:r})},get definitionType(){return{get mutablyHidden(){return m.kMutablyHidden},get mutablyVisible(){return m.kMutablyVisible},get immutablyHidden(){return m.kImmutablyHidden},get immutablyVisible(){return m.kImmutablyVisible}}},defineAccessor(t,e,r,n,s=Object.definitionType.mutablyHidden){let i=m.getDescriptorOverridesFromSymbol(s);return Object.defineProperty(t,e,{...i,get:r,set:n})},fromEntriesUsing(t,e=Object.prototype,r=void 0){if(!c.array(t))return;let n=t.filter(i=>c.array(i)&&i.length>=2);if(!n.length)return;let s=r instanceof Function?r:(i,[o,a])=>(i[o]=a,i);return n.reduce(s,Object.create(e??Object.prototype))},getPrototypeChainEntries(t){let e=[],r=Object.getPrototypeOf(t);for(;r;){let n=Reflect.ownKeys(r).reduce((s,i)=>(s[i]=Object.getOwnPropertyDescriptor(r,i),s),{});e.push([r,n]),r=Object.getPrototypeOf(r)}return e},getStringTag(t,e=!1){if(j.stringTag(t))return t[Symbol.toStringTag];if(!e)return t&&typeof t=="function"?t.name:/\s(.+)]/.exec(Object.prototype.toString.call(t))[1]},getType(t,e=globalThis){let r=Object.getStringTag(t);switch(r){case"Null":return null;case"Undefined":return;default:return e[r]}},hasStringTag(t){return j.stringTag(t)},isNullDefined(t){return c.nullish(t)},ifNullDefined(t,e,r){return xe(c.nullish(t),e,r)},isObject(t){return c.object(t)},ifObject(t,e,r){return xe(c.object(t),e,r)},isPrimitive(t){return c.primitive(t)},ifPrimitive(t,e,r){return xe(c.primitive(t),e,r)},isValidKey(t){return typeof t=="string"||typeof t=="symbol"},ifValidKey(t,e,r){return xe(this.isValidKey(t),e,r)},get kDescriptorStore(){return Symbol.for("@nejs.object.descriptor.storage")},prekeyed(t,e=void 0,r=["data","accessor"][0],n={get:void 0,set:void 0,thisArg:void 0},s={enumerable:!0,configurable:!0},i=void 0,o=Object.prototype){let a=Object.create(o,i),u={};if(Array.isArray(t))u=t.reduce((f,l)=>({...f,[l]:e}),{});else if(t&&typeof t=="object")Object.assign(u,t);else return console.warn("skipping"),a;for(let[f,l]of Object.entries(u)){let p=Symbol.for(`${f}#${Math.random().toString(36).slice(2)}`),h=u[f]??e;r==="accessor"&&n.get===void 0&&(Object.defineProperty(a,p,{value:h,enumerable:!1,configurable:!0}),n.thisArg=a);let d=r==="data"?{value:l??e,writable:!0}:{get:n.get??function(){return this[p]},set:n.set??function(E){this[p]=E}};n.thisArg&&(d.get=d.get.bind(n.thisArg),d.set=d.set.bind(n.thisArg)),Object.defineProperty(a,f,{...s,...d})}return a},stripTo(t,e,r=!0){if(!t||typeof t!="object")throw new TypeError("Object.stripTo requires an object to strip. Received",t);let n={};if(!Array.isArray(e))return n;for(let s of e)if(Reflect.has(t,s)){let o={...Object.getOwnPropertyDescriptor(t,s)};(typeof o.get=="function"||typeof o.set=="function")&&r&&(o.get=o.get?.bind(t),o.set=o.set?.bind(t)),Object.defineProperty(n,s,o)}return n},withProperties(t,...e){let r=e.filter(o=>o instanceof N),n=e.filter(o=>Array.isArray(o));if(n.length)for(let[o,a,...u]of n)if(N.is.descriptor(a))r.push(new N(o,a));else{let{get:f,set:l}=a,p=[o,a,...u];f||l?r.push(N.accessor(...p)):r.push(N.data(...p))}let s=Object.create(t??Object.prototype),i=r.toSorted((o,a)=>o.key<a.key?-1:o.key>a.key?1:0);for(let o of i)o.apply(s);return N.data(Symbol.for("properties"),i).apply(s),s},get toolkit(){return{as:re,has:j,is:c,si:te}}}}),{isObject:Ar,ifObject:Rr,isNullDefined:Mr,ifNullDefined:kr,isPrimitive:Dr,ifPrimitive:Cr,isValidKey:vr,ifValidKey:Ir,hasStringTag:Nr,getStringTag:Lr,stripTo:Gr}=oe.patches,Ot=new m(Object.prototype,{[m.kMutablyHidden]:{getPrototypeChainEntries(){return oe.patches.getPrototypeChainEntries(this)},get isObject(){return Ar(this)},ifObject(t,e){return Rr(this,t,e)},get isNullDefined(){return Mr(this)},ifNullDefined(t,e){return kr(this,t,e)},get isPrimitive(){return Dr(this)},ifPrimitive(t,e){return Cr(this,t,e)},get isValidKey(){return vr(this)},ifValidKey(t,e){return Ir(this,t,e)},get hasStringTag(){return Nr(this)},getStringTag(t=!1){return Lr(this,t)},stripTo(t,e=!0){return Gr(this,t,e)}}});function xe(t,e,r){if(arguments.length>1){var n=c.function(e)?e(t):e;if(arguments.length>2){var s=c.function(r)?e(t):r;return t?n:s}return t||n}return t}var Pt=new m(Reflect,{hasAll(t,...e){return Object.isObject(t)&&e.flat(1/0).map(r=>Reflect.has(t,r)).every(r=>r)},hasSome(t,...e){return We(t)&&e.flat(1/0).map(r=>Reflect.has(t,r)).some(r=>r)},metadata(t,e=globalThis){let n=Br([{key:t},{owner:e}])();n.check(0)&&(t=n.object.key,e=n.object.owner);let s=We(e)&&Fr(t)?Object.getOwnPropertyDescriptor(e,t):void 0,i=()=>s?.get?.bind(e)?.()??e[t];return s?{get owner(){return e},get key(){return t},get value(){return i()},get descriptor(){return s},get isReadOnly(){return this.isAccessor&&!s?.set},get isAssignable(){return s?.configurable??s?.writable},get isAccessor(){return!!(this?.descriptor?.get||this?.descriptor?.set)},get isData(){return!!(this?.descriptor?.value||this?.descriptor?.writable)}}:void 0},ownDescriptors(t){if(!We(t))throw new TypeError("The supplied object must be non-null and an object");let e={},r=Reflect.ownKeys(t);for(let n of r)e[n]=Object.getOwnPropertyDescriptor(n);return e},entries(t){return!t||typeof t!="object"?[]:Reflect.ownKeys(t).map(e=>[e,Object.getOwnPropertyDescriptor(t,e)])},values(t){return Reflect.entries.map(([,e])=>e)}});function We(t){return t&&typeof t=="object"}function Fr(t){return["string","symbol"].some(e=>typeof t===e)}function Br(t){return function(){let r=this.map(o=>Object.keys(o)?.[0]),n=this.map(o=>Object.entries(o)?.[0]),s=n.reduce((o,[a,u])=>(o[a]=u,o),{}),i={order:r,entries:n,object:s};return Object.defineProperty(i,"check",{value(o){if(typeof o!="number"&&o>=0&&o<this.order.length)return!1;let a=this.entries[o][1];return!!(typeof a=="object"&&a&&Object.keys(a).every(u=>~this.order.indexOf(u)))},enumerable:!1,configurable:!0}),i}.bind(t)}var wt=new m(RegExp,{[m.kMutablyHidden]:{anything(t=!1,e=!1){return`[.${e?"\\n\\r":""}]*${t?"":"?"}`},nonCaptureGroup(t){return`(?:${t})`},captureGroup(t){return`(${t})`},oneOf(...t){return t.join("|")},zeroOrMore(t){return`(?:${t})*`},zeroOrOne(t){return`(?:${t})?`},escape(t){return Hr(t)},get null(){return"null"},get bool(){return this.oneOf("true","false")},currencySymbols(t=[["*"],["USD","GBP"]][0],e="en-US"){let r=Intl.supportedValuesOf("currency"),n=a=>!!~r.indexOf(a);typeof t=="string"&&n(t)&&(t=[t]),Array.isArray(t)||(t=r),t=t.filter(a=>n(a)),t.length||(t=r);let s=a=>({style:"currency",currency:a}),i=(a,u)=>Intl.NumberFormat(a,s(u));return(t.length===1&&t[0]==="*"?r:t).filter(a=>n(a)).map(a=>{let u=i(e,a).formatToParts()?.[0].value;return u&&`(?:${RegExp.escape(u)})`}).join("|")},get number(){let t=Object("\\d+\\.?\\d*"),e=this;return Object.defineProperties(t,{any:{get(){return String(t)}},float:{get(){return String(t)}},money:{get(){return`(?:${e.currencySymbols()})?${this.float}`}},integer:{get(){return"\\d+"}},pretty:{value(r="en-US"){return`${e.zeroOrMore(e.currencySymbols(["*"],r))}[\\d,]+\\.?[\\d]*`}},jsLiteral:{get(){return"[\\d_]+"}}}),t},get integer(){return"\\d+"},get string(){return{get doubleQuoted(){return'"[^"\\\\]*(?:\\\\.[^"\\\\]*)*"'},get singleQuoted(){return"'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'"}}},get whitespace(){return"\\s*"},get comma(){return`,${this.whitespace}`}}},{conditions:{escape(){return!Reflect.has(RegExp,"escape")}}});function Hr(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ue=new m(Set,{[m.kMutablyHidden]:{isSet(t){return t?.[Symbol.toStringTag]===Set.name||t instanceof Set},ifSet(t,e,r){return Rt(this.isSet(t),e,r)}}}),{isSet:jt}=Ue.patches,At=new m(Set.prototype,{[m.kMutablyHidden]:{concat(...t){for(let e of t){if(typeof e=="string"||!Reflect.has(e,Symbol.iterator)){this.add(e);continue}for(let r of e)this.add(r)}},contains(t){for(let e of this)if(t==e)return!0;return!1},every(t,e){if(typeof t!="function")throw new TypeError(`everyFn must be a function! Received ${String(t)}`);let r=0;for(let n of this)t.call(e,n,NaN,this)&&r++;return r===this.size},find(t,e){if(typeof t!="function")throw new TypeError(`findFn must be a function! Received ${String(t)}`);for(let r of this)if(t.call(e,r,NaN,this))return r},findLast(t,e){if(typeof t!="function")throw new TypeError(`findFn must be a function! Received ${String(t)}`);let r=[];for(let n of this)t.call(e,n,NaN,this)&&r.push(n);if(r.length)return r[r.length-1]},get isSet(){return jt(this)},ifSet(t,e){return Rt(jt(this),t,e)},get length(){return this.size},map(t,e){if(typeof t!="function")throw new TypeError(`mapFn must be a function! Received ${String(t)}`);let r=[];for(let n of this)r.push(t.call(e,n,NaN,this));return r},reduce(t,e,r){if(typeof t!="function")throw new TypeError(`reduceFn must be a Function! Received ${String(t)}`);let n=e;for(let s of this)n=t.call(r,n,s,NaN,this);return n},some(t,e){if(typeof t!="function")throw new TypeError(`someFn must be a function! Received ${String(t)}`);for(let r of this)if(t.call(e,r,NaN,this))return!0;return!1}}});function Rt(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}var Vr=["(",")"],Je=new m(String,{[m.kMutablyHidden]:{isString(t){return t!=null&&(typeof t=="string"||t instanceof String)},ifString(t,e,r){return Wr(String.isString(t),e,r)},get parenthesisPair(){return["(",")"]},get squareBracketsPair(){return["[","]"]},get curlyBracketsPair(){return["{","}"]},random36(){return Math.random().toString(36).slice(2)},random16(){return Math.random().toString(16).slice(2)},randomRGBHex(t="#"){let e=Math.random().toString(16).slice(2).substring(0,6);return`${t}${e.padEnd(6,"0")}`},randomARGBHex(t="#"){let e=Math.random().toString(16).slice(2).substring(0,8);return`${t}${e.padStart(6,"0").padEnd(8,"0")}`},randomRGBAHex(t="#"){let e=Math.random().toString(16).slice(2).substring(0,8);return`${t}${e.padStart(6,"0").padStart(8,"0")}`},randomRGB(){let t=Math.random().toString(16).slice(2).padEnd(8,"0"),e=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16);return`rgb(${e}, ${r}, ${n})`},randomRGBA(t={red:void 0,green:void 0,blue:void 0,alpha:void 0}){let e=Math.random().toString(16).slice(2).padEnd(8,"0"),r=t.red??parseInt(e.substring(0,2),16),n=t.green??parseInt(e.substring(2,4),16),s=t.blue??parseInt(e.substring(4,6),16),i=t.alpha??parseInt(e.substring(6,8),16)/255*1;return`rgba(${r}, ${n}, ${s}, ${i.toFixed(2)})`},sgr(t,...e){let r=Object.assign(["black","red","green","yellow","blue","magenta","cyan","white"],{isBG:l=>!!/bg/i.exec(l),isBright:l=>!!/bright/i.exec(l),isColor:l=>{let p=r.find(h=>new RegExp(h,"i").exec(l));return[!!p,r.indexOf(p)]}}),n=l=>{if(Array.isArray(l)){let p=[];for(let h of l)p=[...p,...n(h)];return p.flat().filter(h=>h.length)}return!l||typeof l!="string"?[""]:l.includes(",")?n(l.split(",")):!r.isColor(l)[0]&&l.length>1?[...l]:[l]},s=n(e),i={blink:["\x1B[5m","\x1B[25m","k"],bold:["\x1B[1m","\x1B[22m","b"],conceal:["\x1B[8m","\x1B[28m","c"],dim:["\x1B[2m","\x1B[22m","d"],italics:["\x1B[3m","\x1B[23m","i"],negative:["\x1B[7m","\x1B[27m","n"],strike:["\x1B[9m","\x1B[29m","s"],underline:["\x1B[4m","\x1B[24m","u"]};Object.values(i).forEach(l=>i[l[2]]=l);let o=l=>{let p="",h="",d=String(l).toLowerCase(),[E,g]=r.isColor(d);return E?(p=r.isBG(d)?`\x1B[${r.isBright(d)?10:4}${g}m`:`\x1B[${r.isBright(d)?9:3}${g}m`,h=r.isBG(d)?"\x1B[49m":"\x1B[39m"):i[d]&&(p=i[d][0],h=i[d][1]),[p,h]},a=s.map(l=>o(l)[0]).join(""),u=s.map(l=>o(l)[1]).reverse().join(""),f=Object(`${a}${t}${u}`);return Object.defineProperties(f,{show:{get(){return console.log(String(this)),this},enumerable:!1},[Symbol.for("nodejs.util.inspect.custom")]:{value(l,p,h){return String(this)},enumerable:!1},[Symbol.toStringTag]:{get(){return"SgrString"},enumerable:!1}}),f},wrap(t,e={colorProperties:void 0,indent:2,indentCharacter:" ",inspector:[Object,"getOwnPropertyNames"],lineEnding:`
`,maxLen:78,perLine:void 0,perLinePerProperty:void 0,preProcess:void 0,preReturn:void 0,separator:", "}){let{colorProperties:r=void 0,indent:n=e?.indent??2,indentCharacter:s=e?.indentCharacter??" ",inspector:i=e?.inspector??[Object,"getOwnPropertyNames"],lineEnding:o=e?.lineEnding??`
`,maxLen:a=e?.maxLen??78,perLine:u=e?.perLine??void 0,perLinePerProperty:f=e?.perLinePerProperty??void 0,preProcess:l=e?.preProcess??void 0,preReturn:p=e?.preReturn??void 0,separator:h=e?.separator??", "}=e??{},d=n===0?"":s.repeat(Number(n)||2);a=78-d.length;let E=this.sgr,g=P=>typeof P=="function",x=[],C=i[0][i[1]],T=Array.isArray(t)?t:C(Object(t));g(l)&&(T=l(T));let v={indent:n,indentCharacter:s,lineEnding:o,maxLen:a,tab:d,sgr:E},A=T.reduce((P,O)=>{let y=[...x,O].join(h);if(d.length+y.length<=a)x.push(O);else{let b=[...x];if(g(f)&&(b=b.map((R,fe,Lt)=>f(R,fe,Lt,v))),r){let R=Array.isArray(r)?r:[r];b=b.map(fe=>E(fe,...R))}b=[d,b.join(h)].join(""),g(u)&&(b=u(b[0],0,b)?.[0]??b[0]),P.push(b),x=[]}return P},[]);return g(p)&&(A=A.map((P,O,y)=>p(P,O,y,v))),Symbol.for(`@nejs.string.wrap ${JSON.stringify({lines:A})}`),o&&(A=A.join(o)),A}}}),{isString:$r,ifString:Kr}=Je.patches,Mt=new m(String.prototype,{[m.kMutablyHidden]:{get isString(){return $r(this)},ifString(t,e){return Kr(this,t,e)},get instance(){return Object(this)},extractSubstring(t=0,e=Vr){let[r,n]=e,s=0,i=-1,o=-1,a="",u=0;for(let h=t;h<this.length;h++){let d=this[h];if(d===r)s++,i===-1&&(i=h);else if(d===n&&(s--,s===0)){o=h;break}}let f=[Math.max(0,i-100),i],l=[...this.substring(f[0],f[1])].reverse().join(""),p;try{p=/([^ \,\"\'\`]+)/.exec(l)[1]??"",a=[...p].reverse().join("")}catch{}if(i!==-1&&o!==-1){let h=[i,o+1];return{extracted:this.slice(h[0],h[1]),range:[i,o],newOffset:o+1,leadingToken:a}}else return{extracted:null,range:[i,o],newOffset:t,leadingToken:a}}}});function Wr(t,e,r){function n(o){}if(arguments.length>1){var s=void 0?e(t):e;if(arguments.length>2){var i=void 0?e(t):r;return t?s:i}return t||s}return t}var qe=class t extends Promise{#e=null;#t=null;#r=null;#s=!1;#i=!1;value=null;reason=null;#n=!1;constructor(e){let r=e&&typeof e=="object"?e:{};if(r?.resolve&&r?.reject)throw new TypeError("resolve and reject options cannot be simultaneously provided");let n,s;super((i,o)=>{n=i,s=o,r?.executor&&typeof r?.executor=="function"&&r?.executor(i,o)}),this.#r=i=>(r?.doNotTrackAnswers!==!0&&(this.value=i),this.#n=!0,this.#i=!0,n(i)),this.#t=async i=>(r?.doNotTrackAnswers!==!0&&(this.reason=i),this.#n=!0,this.#s=!0,s(i)),this.#e=this,r?.resolve?this.#r(r?.resolve):r?.reject&&this.#t(r?.reject)}get settled(){return this.#n}get wasRejected(){return this.#s}get wasResolved(){return this.#i}get promise(){return this.#e}resolve(e){return this.#r(e)}reject(e){return this.#t(e)}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){return["\x1B[1mDeferred [\x1B[22;3mPromise\x1B[23;1m]\x1B[22m ","{ ",this.settled?this.wasResolved?`resolved with \x1B[32m${this.value}\x1B[39m`:`rejected with \x1B[31m${this.reason?.message??this.reason}\x1B[39m`:"\x1B[33munsettled valued or reason\x1B[39m"," }"].join("")}static get[Symbol.species](){return class extends t{constructor(r){super({executor:r})}}}},ze=new S(qe);var w=class{static addExpansion(e){let r=(n=globalThis)=>(s,i)=>{let o=s.length;try{let a=n[i];s.splice(o,0,[i,a],[a,i])}catch(a){s.splice(o,0,[i,a])}return s};return Object.defineProperty(e,"expand",{get(){return new Map(this.reduce(r(globalThis),[]))},configurable:!0,enumerable:!0})}static accessors(e=globalThis,r=[]){let n=[];for(let s of r)try{let i=this.metadata(e,s);(i.get||i.set)&&n.push([s,i]);continue}catch(i){n.push([s,i])}return new Map(n)}static classes(e=globalThis){return this.fetcher("function",/^[A-Z]/,Object,"getOwnPropertyNames",e)}static functions(e=globalThis){return this.fetcher("function",/^[a-z]/,Object,"getOwnPropertyNames",e)}static objects(e=globalThis){return this.fetcher("object",null,Object,"getOwnPropertyNames",e)}static properties(e=globalThis){return this.fetcher((r,n,s)=>n!=="object"&&n!=="function",null,Object,"getOwnPropertyNames",e)}static symbols(e=globalThis){return this.addExpansion(Object.getOwnPropertySymbols(e))}static metadata(e,r){let n={owner:e,key:r,descriptor:void 0,value:void 0,get type(){return typeof this.value}};try{n.descriptor=Object.getOwnPropertyDescriptor(e,r)}catch(s){n.descriptor=s}try{n.value=n.descriptor?.value??n.descriptor?.get?.bind(e)?.()??e[r]}catch(s){n.value=s}return n}static fetcher(e,r=void 0,n=Object,s="getOwnPropertyNames",i=globalThis){let o=e;if(typeof e!="function"){let a=String(e);o=function(u,f,l){return f===a}.bind(this)}return this.addExpansion(n[s](i).filter(a=>{let u=this.metadata(i,a);return(!r||r.exec(String(a)))&&o(u.value,u.type,u.descriptor)}).toSorted())}static makeReport(e=globalThis){let r=["classes","functions","objects","properties","symbols","accessors"],n=r.reduce((p,h)=>(p[h]=this[h].bind(this),p),{}),{classes:s,functions:i,objects:o,properties:a,symbols:u,accessors:f}=n,l={};return Object.assign(l,{accessors:{classes:void 0,functions:void 0,objects:void 0,properties:void 0,symbols:void 0},classes:this[s.name](),functions:this[i.name](),objects:this[o.name](),properties:this[a.name](),symbols:this[u.name](),expandAll(){r.forEach(p=>{l[p]=l?.[p]?.expand})}})(r.forEach(p=>{debugger;l.accessors[p]=f(globalThis,l[p])})),l}},Qe=new S(w);var ye=class{#e=[];constructor(e,...r){e!=null&&typeof e[Symbol.iterator]=="function"?this.#e=[...e,...r]:this.#e=[e,...r]}*[Symbol.iterator](){for(let e of this.#e)yield e}get asArray(){return this.#e}get[Symbol.toStringTag](){return this.constructor.name}static isIterable(e){return Object.prototype.toString.call(e?.[Symbol.iterator])==="[object GeneratorFunction]"}},ae=class t{#e=void 0;constructor(e,r){if(!e||!Reflect.has(e,Symbol.iterator))throw new TypeError("Value used to instantiate Iterator is not iterable");this.#t=e,this.#r=e[Symbol.iterator](),this.#e=typeof r=="function"?r:void 0}get asArray(){return Array.from(this.#t)}get iterable(){return this.#t}next(){let e=this.#r.next(),r=e;return r.done?{value:void 0,done:!0}:(this.#e&&typeof this.#e=="function"&&(r.value=this.#e(e.value)),{value:r.value,done:!1})}reset(){this.#r=this.#t[Symbol.iterator]()}[Symbol.iterator](){return this}get[Symbol.toStringTag](){return this.constructor.name}#t=null;#r=null;static keys(e,r,n){n??=Object.getOwnPropertyNames;let s=n(e);return new t(s,r)}static entries(e,r,n){n??=Object.getOwnPropertyNames;let s=n(e),i=[];for(let o of s)i.push([o,e[o]]);return new t(i,r)}static descriptors(e,r,n){n??=Object.getOwnPropertyNames;let s=n(e),i=[];for(let o of s)i.push([o,Object.getOwnPropertyDescriptor(e,o)]);return new t(i,r)}},Xe=new S(ye),Ye=new S(ae);var Ze=class t{constructor(e,r=()=>{},n=()=>{}){this.args=e,this.parser=n,this.validator=r,this.result=void 0,this.success=this.validate(this.args),this.success&&(this.results=this.parse(this.args))}parse(e){return this.parser?.(e)}validate(e){return this.validator?.(e)}static tryParsers(e,r){return this.safeTryParsers(e,r,!0)}static safeTryParsers(e,r,n=!1){if((!Array.isArray(e)||!Array.isArray(r))&&n)throw new this.ParametersMustBeArrayError(`${this.name}.tryParsers must receive two arrays as args`);if(!r.some(o=>o?.prototype instanceof t&&typeof o=="function")&&n)throw new this.ParsersArrayMustContainParsersError(`${this.name}.tryParsers parsers argument must contain at least one ParamParser derived class`);let s=!1,i;for(let o of r){let a=new o(e);if(a.success){s=!0,i=a.result;break}}if(!s&&n)throw new this.NoValidParsersFound("No valid parsers found");return{success:s,data:i}}static get NoValidParsersFound(){return class extends Error{}}static get ParametersMustBeArrayError(){return class extends Error{}}static get ParsersArrayMustContainParsersError(){return class extends Error{}}},_e=new S(Ze);var{toStringTag:kt,hasInstance:Ur}=Symbol,Dt=class{constructor(e=!1,r=void 0,n=void 0){Object.assign(this,{succes,value:r,context:n})}get[kt](){return this.constructor.name}static[Ur](e){return e?.[kt]===this.name||e?.constructor===this}},ce=class t{constructor(e,r=t.type.get){this.handler=e,this.typeName=Array.isArray(r)?t.nameFromType(r)??"get":String(r),this.type=Array.isArray(r)?r:t.type[r??"get"]}invoke(...e){let r={defaultValue:Reflect[this.typeName](...e),proxyHandler:this,typeHandler:this.handler};try{let n=this.handler.apply(r,e);return n?.[Symbol.toStringTag]!==t.ResponseType?t.response(!!n,n,r):(n.context=r,n)}catch(n){return t.response(!1,n)}}static response(e,r,n){return{success:e,value:r,context:n,get[Symbol.toStringTag](){return this.ResponseType}}}static get ResponseType(){return"ProxyHandlerResponse"}static nameFromType(e){if(!Array.isArray(e))return"custom";let r=Object.entries(t.type);for(let[n,s]of r)if(e.every(i=>~s.indexOf(i)))return n;return"custom"}static get typeNames(){return Object.keys(t.type)}static get type(){return{get apply(){return["target","thisArg","argumentsList"]},get construct(){return["target","args"]},get defineProperty(){return["target","key","descriptor"]},get deleteProperty(){return["target","property"]},get get(){return["target","property","receiver"]},get getOwnPropertyDescriptor(){return["target","property"]},get getPrototypeOf(){return["target"]},get has(){return["target","prototype"]},get isExtensible(){return["target"]},get ownKeys(){return["target"]},get preventExtensions(){return["target"]},get set(){return["target","property","value","receiver"]},get setPrototypeOf(){return["target","prototype"]}}}},et=class t{constructor(e,r,n={prototype:void 0,apply:!0}){let s=r.filter(i=>i instanceof ce);Object.assign(this,{class:e instanceof Function?e:e.constructor,instance:e instanceof Function?null:e}),this.handlers=new Map;for(let i of ce.typeNames){let o=[].concat(s.filter(a=>a.typeName===i));this.handlers.set(i,o)}if(this[t.kOriginal]=n?.prototype??Object.getPrototypeOf(this.class),this[t.kCreated]=Object.create(this[t.kOriginal],this.instance),this[t.kProxy]=new Proxy(this[t.kCreated],this),n?.apply!=!0){let i=this?.instance??this.class;Object.setPrototypeOf(i,this[t.kCreated])}}handlersOfType(e){return this.handlers.get(e)}tryEachOfType(e,...r){let n=ce.typeNames,s=[];for(let i of n){let o=i.invoke(...r);if(o.success)return[o,s];s.push(o)}return[void 0,s]}apply(e,r,n){let s="apply",i=[e,r,n],[o,a]=tryEachOfType(s,...i);return o||Reflect[s](...i)}construct(e,r){let n="construct",s=[e,r],[i,o]=tryEachOfType(n,...s);return i||Reflect[n](...s)}defineProperty(e,r,n){let s="defineProperty",i=[e,r,n],[o,a]=tryEachOfType(s,...i);return o||Reflect[s](...i)}deleteProperty(e,r){let n="deleteProperty",s=[e,r],[i,o]=tryEachOfType(n,...s);return i||Reflect[n](...s)}get(e,r,n){let s="get",i=[e,r,n],[o,a]=tryEachOfType(s,...i);return o||Reflect[s](...i)}getOwnPropertyDescriptor(e,r){let n="getOwnPropertyDescriptor",s=[e,r],[i,o]=tryEachOfType(n,...s);return i||Reflect[n](...s)}getPrototypeOf(e){let r="getPrototypeOf",n=[e],[s,i]=tryEachOfType(r,...n);return s||Reflect[r](...n)}has(e,r){let n="has",s=[e,r],[i,o]=tryEachOfType(n,...s);return i||Reflect[n](...s)}isExtensible(e){let r="isExtensible",n=[e],[s,i]=tryEachOfType(r,...n);return s||Reflect[r](...n)}ownKeys(e){let r="ownKeys",n=[e],[s,i]=tryEachOfType(r,...n);return s||Reflect[r](...n)}preventExtensions(e){let r="preventExtensions",n=[e],[s,i]=tryEachOfType(r,...n);return s||Reflect[r](...n)}set(e,r,n,s){let i="set",o=[e,r,n,s],[a,u]=tryEachOfType(i,...o);return a||Reflect[i](...o)}setPrototypeOf(e,r){let n="setPrototypeOf",s=[e,r],[i,o]=tryEachOfType(n,...s);return i||Reflect[n](...s)}static get kCreated(){return Symbol.for("pp.prototype.created")}static get kOriginal(){return Symbol.for("pp.prototype.original")}static get kProxy(){return Symbol.for("pp.proxy")}},Te=new S(ce),Oe=new S(et),Rs=new S.ExtensionSet("PluggableProxyExtensionSet",Te,Oe);var Ct=new m(WeakRef,{isValidReference(t){return!(typeof t=="symbol"&&Symbol.keyFor(t)===void 0||typeof t!="object"&&typeof t!="symbol"||t==null)}});var{isObject:Jr,isNullDefined:qr,isValidKey:zr}=oe.patches,{isRegistered:Qr}=W.patches,{isValidReference:vt}=Ct.patches,tt=class t extends Map{#e=!1;constructor(...e){super(...e)}objectifying(e=!0){return this.objectifyValues=e,this}asObject(){let e={};for(let[r,n]of this){let s=zr(r)?r:String(r),i=n?.valueOf()||n;e[s]=i}return e}get objectifyValues(){return this.#e}get(e,r){let n=super.get(e);return!n||!n?.deref()?r:n?.deref()}set objectifyValues(e){this.#e=!!e}set(e,r){let n=r;if(this.#e&&(typeof n=="number"||typeof n=="string"||typeof n=="boolean"||typeof n=="bigint")&&(n=Object(n)),typeof n=="symbol"&&Symbol.keyFor(n)!==void 0)throw new TypeError("RefMap cannot accept registered symbols as values");if(typeof n!="object"&&typeof n!="symbol")throw new TypeError("RefMap values must be objects, non-registered symbols, or objectified primitives");if(n==null)throw new TypeError("RefMap values cannot be null or undefined");let s=new WeakRef(n);super.set(e,s)}setAll(e){if(!ye.isIterable(e))throw new TypeError("The supplied list of entries must be an array of arrays in the format [[key1, value1], [key2, value2], ...].");let r=n=>{let[s,i]=n;!s||!Jr(i)||!Qr(i)||this.set(s,i)};for(let n of e)r(n);return this}clean(){for(let[e,r]of this)r||this.delete(e);return this}entries(){let e=super.entries();return new ae(e,n=>{if(n){let[s,i]=n,o=i?.deref();return[s,o]}return n})}forEach(e,r){for(let[n,s]of super.entries()){let i=s?.deref();i&&e.call(r,i,n,this)}}values(){return new ae(super.values(),function(r){return r?.deref()||r})}hasValue(e,r=!0){if(qr(e))return!1;this.#e&&(r=!1);for(let[n,s]of this)if(r&&e===s||!r&&e==s)return!0;return!1}filter(e,r){let n=[];for(let[s,i]of this)e.call(r,i,s,this)&&n.push([s,i]);return n}find(e,r){for(let[n,s]of this){let i=super.get(n),o=e.call(r,i,n,map);if(o||(o=e.call(r,s,n,map)),o)return s}return null}map(e,r,n,s){if(typeof e!="function")throw new TypeError("mapFn must be a function! Received",e);let i=[],o=[],a=s&&this.objectifyValues,u=s===void 0,f=a;for(let[l,p]of this){let[,h]=[0,1],d=e.call(r,[l,p],l,this);vt(d[h])||vt(Object(d[h]))&&(a=!0,u&&!f&&(f=!0,d[h]=Object(d[h]))),i.push(d)}return n?new t(i).objectifying(f):i}*[Symbol.iterator](){for(let[e,r]of this.entries())yield[e,r]}get[Symbol.toStringTag](){return this.constructor.name}},rt=new S(tt);var nt=class t extends Set{#e=!1;objectifying(e=!0){return this.objectifyValues=e,this}get objectifyValues(){return this.#e}set objectifyValues(e){this.#e=!!e}add(e){if(this.#e&&(typeof e=="number"||typeof e=="string"||typeof e=="boolean"||typeof e=="bigint")&&(e=Object(e)),typeof e=="symbol"&&Symbol.keyFor(e)!==void 0)throw new TypeError("RefSet cannot accept registered symbols as values");if(typeof e!="object"&&typeof e!="symbol")throw new TypeError("RefSet values must be objects, non-registered symbols, or objectified primitives");if(e==null)throw new TypeError("RefSet values cannot be null or undefined");super.add(new WeakRef(e))}addAll(e){if(!e||typeof e!="object"||!Reflect.has(e,Symbol.iterator))throw new TypeError("The supplied values are either falsey or non-iterable");for(let r of e)this.add(r)}clean(){for(let e of this)e.deref()||this.delete(e);return this}entries(){return Array.from(super.entries()).map(([r,n])=>[n.deref(),n.deref()]).filter(([r,n])=>!!n)}forEach(e,r){let n=this;super.forEach(function(s){let i=s.deref();i&&e.call(r,i,i,n)})}values(){let e=[];for(let r of this){let n=r.deref();n&&e.push(n)}return e}keys(){return this.values()}has(e){if(this.#e)return this.contains(e);for(let r of this.values())if(r===e)return!0;return!1}contains(e){return!!Array.from(this.values()).filter(r=>e==r).length}filter(e,r){let n=[];for(let s of this){let i=s?.deref();i&&e.call(r,i,NaN,this)&&n.push(i)}return n}find(e,r){for(let n of this){let s=n?.deref();if(s&&e.call(r,s,NaN,this))return s}}map(e,r,n,s){let i=[],o=!0,a=!0;for(let u of this){let f=u?.deref();if(f){let l=e.call(r,f,NaN,this);(o||a)&&(this.#t(l)||(o=!1,a&&(a=this.#t(Object(l))))),i.push(l)}}if(n){if(o)return new t(i).objectifying(s?this.objectifyValues:!1);if(a)return new t(i.map(u=>this.#t(u)?u:Object(u))).objectifying()}return i}get[Symbol.toStringTag](){return this.constructor.name}#t(e){return!(typeof e=="symbol"&&Symbol.keyFor(e)===void 0||typeof e!="object"&&typeof e!="symbol"||e==null)}},st=new S(nt);var it=class t{mapped=new Map(t.mapped.entries());of(e){return t.of(e)}class(e){return t.class(e)}isPrimitive(e){return t.isPrimitive(e)}static is(e,r){return t.of(e)===t.name(r)}static of(e){return typeof e}static named(e){let r=/ (.*?)\]/.exec(Object.prototype.toString.call(e))?.[1];return e?.[Symbol.toStringTag]??r??(e instanceof Function?e.name:void 0)??t.mapped.get(typeof e).name}static class(e,r){r=r??t.mapped;let n=e?.[Symbol.toStringTag]??(e instanceof Function?e.name:void 0)??typeof e,s=r.has(n)?t.mapped.get(n):e?.constructor;return t.of(s)==="function"&&!r.has(n)&&this!==t&&(r.set(n,s),r.set(s,n)),s||r.get(typeof e)}static isPrimitive(e){return new Set([...t.primitives]).has(typeof e)}static get primitives(){return function*(){yield"bigint",yield"boolean",yield"number",yield"string",yield"symbol",yield"undefined"}}static get typeOfTypes(){return function*(){yield"bigint",yield"boolean",yield"function",yield"number",yield"object",yield"string",yield"symbol",yield"undefined"}}static mapped=new Map([["bigint",BigInt],["boolean",Boolean],["function",Function],["number",Number],["object",Object],["string",String],["symbol",Symbol],["undefined",void 0],[BigInt,"bigint"],[Boolean,"boolean"],[Function,"function"],[Number,"number"],[Object,"object"],[String,"string"],[Symbol,"symbol"],[BigInt.name,BigInt],[Boolean.name,Boolean],[Function.name,Function],[Number.name,Number],[Object.name,Object],[String.name,String],[Symbol.name,Symbol],[void 0,"undefined"]]);serverJs={nodejs:{"v21.1.0":{version:"v21.1.0",date:new Date("2024-04-21T15:58:12.490Z"),classes:w.addExpansion(["AbortController","AbortSignal","AggregateError","Array","ArrayBuffer","BigInt","BigInt64Array","BigUint64Array","Blob","Boolean","BroadcastChannel","Buffer","ByteLengthQueuingStrategy","CompressionStream","CountQueuingStrategy","Crypto","CryptoKey","CustomEvent","DataView","Date","DecompressionStream","DOMException","Error","EvalError","Event","EventTarget","File","FinalizationRegistry","Float32Array","Float64Array","FormData","Function","Headers","Int16Array","Int32Array","Int8Array","Map","MessageChannel","MessageEvent","MessagePort","Navigator","Number","Object","Performance","PerformanceEntry","PerformanceMark","PerformanceMeasure","PerformanceObserver","PerformanceObserverEntryList","PerformanceResourceTiming","Promise","Proxy","RangeError","ReadableByteStreamController","ReadableStream","ReadableStreamBYOBReader","ReadableStreamBYOBRequest","ReadableStreamDefaultController","ReadableStreamDefaultReader","ReferenceError","RegExp","Request","Response","Set","SharedArrayBuffer","String","SubtleCrypto","Symbol","SyntaxError","TextDecoder","TextDecoderStream","TextEncoder","TextEncoderStream","TransformStream","TransformStreamDefaultController","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","URL","URLSearchParams","WeakMap","WeakRef","WeakSet","WritableStream","WritableStreamDefaultController","WritableStreamDefaultWriter"]),nodeSpecificClasses:w.addExpansion(["Buffer","CryptoKey","SharedArrayBuffer","SubtleCrypto"]),functions:w.addExpansion(["assert","atob","btoa","clearImmediate","clearInterval","clearTimeout","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","events","fetch","isFinite","isNaN","parseFloat","parseInt","queueMicrotask","require","setImmediate","setInterval","setTimeout","stream","structuredClone","unescape"]),objects:w.addExpansion(["Atomics","Intl","JSON","Math","Reflect","WebAssembly","_","_error","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","diagnostics_channel","dns","domain","fs","global","globalThis","http","http2","https","inspector","module","navigator","net","os","path","perf_hooks","performance","process","punycode","querystring","readline","repl","string_decoder","sys","timers","tls","trace_events","tty","url","util","v8","vm","wasi","worker_threads","zlib"]),properties:w.addExpansion(["Infinity","NaN","undefined"]),symbols:w.addExpansion([Symbol.toStringTag])}},qjs:{v:{version:"v",classes:w.addExpansion(["AggregateError","Array","ArrayBuffer","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int16Array","Int32Array","Int8Array","InternalError","Map","Number","Object","Promise","Proxy","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet"]),functions:w.addExpansion(["decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","print","unescape"]),objects:w.addExpansion(["Atomics","JSON","Math","Reflect","_","console","globalThis","os","scriptArgs","std"]),properties:w.addExpansion(["Infinity","NaN","undefined"]),symbols:w.addExpansion([])}}};browser={arc:{version:"Version 1.39.0 (48951)",userAgent:["Mozilla/5.0","(Macintosh; Intel Mac OS X 10_15_7)","AppleWebKit/537.36","(KHTML, like Gecko)","Chrome/124.0.0.0","Safari/537.36"].join(" "),types:{classes:w.addExpansion(["AbortController","AbortSignal","AggregateError","Array","ArrayBuffer","BigInt","BigInt64Array","BigUint64Array","Blob","Boolean","BroadcastChannel","ByteLengthQueuingStrategy","CompressionStream","CountQueuingStrategy","Crypto","CustomEvent","DOMException","DataView","Date","DecompressionStream","Error","EvalError","Event","EventTarget","File","FinalizationRegistry","Float32Array","Float64Array","FormData","Function","Headers","Int16Array","Int32Array","Int8Array","Map","MessageChannel","MessageEvent","MessagePort","Navigator","Number","Object","Performance","PerformanceEntry","PerformanceMark","PerformanceMeasure","PerformanceObserver","PerformanceObserverEntryList","PerformanceResourceTiming","Promise","Proxy","RangeError","ReadableByteStreamController","ReadableStream","ReadableStreamBYOBReader","ReadableStreamBYOBRequest","ReadableStreamDefaultController","ReadableStreamDefaultReader","ReferenceError","RegExp","Request","Response","Set","String","Symbol","SyntaxError","TextDecoder","TextDecoderStream","TextEncoder","TextEncoderStream","TransformStream","TransformStreamDefaultController","TypeError","URIError","URL","URLSearchParams","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakRef","WeakSet","WritableStream","WritableStreamDefaultController","WritableStreamDefaultWriter"]),browserClasses:w.addExpansion(["AbstractRange","AnalyserNode","Animation","AnimationEffect","AnimationEvent","AnimationPlaybackEvent","AnimationTimeline","Attr","Audio","AudioBuffer","AudioBufferSourceNode","AudioContext","AudioData","AudioDestinationNode","AudioListener","AudioNode","AudioParam","AudioParamMap","AudioProcessingEvent","AudioScheduledSourceNode","AudioSinkInfo","AudioWorkletNode","BackgroundFetchManager","BackgroundFetchRecord","BackgroundFetchRegistration","BarProp","BaseAudioContext","BeforeInstallPromptEvent","BeforeUnloadEvent","BiquadFilterNode","BlobEvent","BluetoothUUID","BrowserCaptureMediaStreamTrack","CDATASection","CSSAnimation","CSSConditionRule","CSSContainerRule","CSSCounterStyleRule","CSSFontFaceRule","CSSFontPaletteValuesRule","CSSGroupingRule","CSSImageValue","CSSImportRule","CSSKeyframeRule","CSSKeyframesRule","CSSKeywordValue","CSSLayerBlockRule","CSSLayerStatementRule","CSSMathClamp","CSSMathInvert","CSSMathMax","CSSMathMin","CSSMathNegate","CSSMathProduct","CSSMathSum","CSSMathValue","CSSMatrixComponent","CSSMediaRule","CSSNamespaceRule","CSSNumericArray","CSSNumericValue","CSSPageRule","CSSPerspective","CSSPositionValue","CSSPropertyRule","CSSRotate","CSSRule","CSSRuleList","CSSScale","CSSScopeRule","CSSSkew","CSSSkewX","CSSSkewY","CSSStartingStyleRule","CSSStyleDeclaration","CSSStyleRule","CSSStyleSheet","CSSStyleValue","CSSSupportsRule","CSSTransformComponent","CSSTransformValue","CSSTransition","CSSTranslate","CSSUnitValue","CSSUnparsedValue","CSSVariableReferenceValue","CanvasCaptureMediaStreamTrack","CanvasGradient","CanvasPattern","CanvasRenderingContext2D","ChannelMergerNode","ChannelSplitterNode","CharacterBoundsUpdateEvent","CharacterData","ClipboardEvent","CloseEvent","Comment","CompositionEvent","ConstantSourceNode","ContentVisibilityAutoStateChangeEvent","ConvolverNode","CropTarget","CustomElementRegistry","CustomStateSet","DOMError","DOMImplementation","DOMMatrix","DOMMatrixReadOnly","DOMParser","DOMPoint","DOMPointReadOnly","DOMQuad","DOMRect","DOMRectList","DOMRectReadOnly","DOMStringList","DOMStringMap","DOMTokenList","DataTransfer","DataTransferItem","DataTransferItemList","DelayNode","DelegatedInkTrailPresenter","Document","DocumentFragment","DocumentPictureInPictureEvent","DocumentTimeline","DocumentType","DragEvent","DynamicsCompressorNode","EditContext","Element","ElementInternals","EncodedAudioChunk","EncodedVideoChunk","ErrorEvent","EventCounts","EventSource","External","FeaturePolicy","FileList","FileReader","FocusEvent","FontFace","FontFaceSetLoadEvent","FormDataEvent","FragmentDirective","GainNode","Gamepad","GamepadButton","GamepadEvent","GamepadHapticActuator","Geolocation","GeolocationCoordinates","GeolocationPosition","GeolocationPositionError","HTMLAllCollection","HTMLAnchorElement","HTMLAreaElement","HTMLAudioElement","HTMLBRElement","HTMLBaseElement","HTMLBodyElement","HTMLButtonElement","HTMLCanvasElement","HTMLCollection","HTMLDListElement","HTMLDataElement","HTMLDataListElement","HTMLDetailsElement","HTMLDialogElement","HTMLDirectoryElement","HTMLDivElement","HTMLDocument","HTMLElement","HTMLEmbedElement","HTMLFieldSetElement","HTMLFontElement","HTMLFormControlsCollection","HTMLFormElement","HTMLFrameElement","HTMLFrameSetElement","HTMLHRElement","HTMLHeadElement","HTMLHeadingElement","HTMLHtmlElement","HTMLIFrameElement","HTMLImageElement","HTMLInputElement","HTMLLIElement","HTMLLabelElement","HTMLLegendElement","HTMLLinkElement","HTMLMapElement","HTMLMarqueeElement","HTMLMediaElement","HTMLMenuElement","HTMLMetaElement","HTMLMeterElement","HTMLModElement","HTMLOListElement","HTMLObjectElement","HTMLOptGroupElement","HTMLOptionElement","HTMLOptionsCollection","HTMLOutputElement","HTMLParagraphElement","HTMLParamElement","HTMLPictureElement","HTMLPreElement","HTMLProgressElement","HTMLQuoteElement","HTMLScriptElement","HTMLSelectElement","HTMLSlotElement","HTMLSourceElement","HTMLSpanElement","HTMLStyleElement","HTMLTableCaptionElement","HTMLTableCellElement","HTMLTableColElement","HTMLTableElement","HTMLTableRowElement","HTMLTableSectionElement","HTMLTemplateElement","HTMLTextAreaElement","HTMLTimeElement","HTMLTitleElement","HTMLTrackElement","HTMLUListElement","HTMLUnknownElement","HTMLVideoElement","HashChangeEvent","Highlight","HighlightRegistry","History","IDBCursor","IDBCursorWithValue","IDBDatabase","IDBFactory","IDBIndex","IDBKeyRange","IDBObjectStore","IDBOpenDBRequest","IDBRequest","IDBTransaction","IDBVersionChangeEvent","IIRFilterNode","IdleDeadline","Image","ImageBitmap","ImageBitmapRenderingContext","ImageCapture","ImageData","ImageTrack","ImageTrackList","Ink","InputDeviceCapabilities","InputDeviceInfo","InputEvent","IntersectionObserver","IntersectionObserverEntry","Iterator","KeyboardEvent","KeyframeEffect","LargestContentfulPaint","LaunchParams","LaunchQueue","LayoutShift","LayoutShiftAttribution","Location","MathMLElement","MediaCapabilities","MediaElementAudioSourceNode","MediaEncryptedEvent","MediaError","MediaList","MediaMetadata","MediaQueryList","MediaQueryListEvent","MediaRecorder","MediaSession","MediaSource","MediaSourceHandle","MediaStream","MediaStreamAudioDestinationNode","MediaStreamAudioSourceNode","MediaStreamEvent","MediaStreamTrack","MediaStreamTrackEvent","MediaStreamTrackGenerator","MediaStreamTrackProcessor","MediaStreamTrackVideoStats","MimeType","MimeTypeArray","MouseEvent","MutationEvent","MutationObserver","MutationRecord","NamedNodeMap","NavigateEvent","Navigation","NavigationActivation","NavigationCurrentEntryChangeEvent","NavigationDestination","NavigationHistoryEntry","NavigationTransition","NavigatorUAData","NetworkInformation","Node","NodeFilter","NodeIterator","NodeList","Notification","OfflineAudioCompletionEvent","OfflineAudioContext","OffscreenCanvas","OffscreenCanvasRenderingContext2D","Option","OscillatorNode","OverconstrainedError","PageRevealEvent","PageSwapEvent","PageTransitionEvent","PannerNode","Path2D","PerformanceElementTiming","PerformanceEventTiming","PerformanceLongAnimationFrameTiming","PerformanceLongTaskTiming","PerformanceNavigation","PerformanceNavigationTiming","PerformancePaintTiming","PerformanceScriptTiming","PerformanceServerTiming","PerformanceTiming","PeriodicSyncManager","PeriodicWave","PermissionStatus","Permissions","PictureInPictureEvent","PictureInPictureWindow","Plugin","PluginArray","PointerEvent","PopStateEvent","ProcessingInstruction","Profiler","ProgressEvent","PromiseRejectionEvent","PushManager","PushSubscription","PushSubscriptionOptions","RTCCertificate","RTCDTMFSender","RTCDTMFToneChangeEvent","RTCDataChannel","RTCDataChannelEvent","RTCDtlsTransport","RTCEncodedAudioFrame","RTCEncodedVideoFrame","RTCError","RTCErrorEvent","RTCIceCandidate","RTCIceTransport","RTCPeerConnection","RTCPeerConnectionIceErrorEvent","RTCPeerConnectionIceEvent","RTCRtpReceiver","RTCRtpSender","RTCRtpTransceiver","RTCSctpTransport","RTCSessionDescription","RTCStatsReport","RTCTrackEvent","RadioNodeList","Range","RemotePlayback","ReportingObserver","ResizeObserver","ResizeObserverEntry","ResizeObserverSize","SVGAElement","SVGAngle","SVGAnimateElement","SVGAnimateMotionElement","SVGAnimateTransformElement","SVGAnimatedAngle","SVGAnimatedBoolean","SVGAnimatedEnumeration","SVGAnimatedInteger","SVGAnimatedLength","SVGAnimatedLengthList","SVGAnimatedNumber","SVGAnimatedNumberList","SVGAnimatedPreserveAspectRatio","SVGAnimatedRect","SVGAnimatedString","SVGAnimatedTransformList","SVGAnimationElement","SVGCircleElement","SVGClipPathElement","SVGComponentTransferFunctionElement","SVGDefsElement","SVGDescElement","SVGElement","SVGEllipseElement","SVGFEBlendElement","SVGFEColorMatrixElement","SVGFEComponentTransferElement","SVGFECompositeElement","SVGFEConvolveMatrixElement","SVGFEDiffuseLightingElement","SVGFEDisplacementMapElement","SVGFEDistantLightElement","SVGFEDropShadowElement","SVGFEFloodElement","SVGFEFuncAElement","SVGFEFuncBElement","SVGFEFuncGElement","SVGFEFuncRElement","SVGFEGaussianBlurElement","SVGFEImageElement","SVGFEMergeElement","SVGFEMergeNodeElement","SVGFEMorphologyElement","SVGFEOffsetElement","SVGFEPointLightElement","SVGFESpecularLightingElement","SVGFESpotLightElement","SVGFETileElement","SVGFETurbulenceElement","SVGFilterElement","SVGForeignObjectElement","SVGGElement","SVGGeometryElement","SVGGradientElement","SVGGraphicsElement","SVGImageElement","SVGLength","SVGLengthList","SVGLineElement","SVGLinearGradientElement","SVGMPathElement","SVGMarkerElement","SVGMaskElement","SVGMatrix","SVGMetadataElement","SVGNumber","SVGNumberList","SVGPathElement","SVGPatternElement","SVGPoint","SVGPointList","SVGPolygonElement","SVGPolylineElement","SVGPreserveAspectRatio","SVGRadialGradientElement","SVGRect","SVGRectElement","SVGSVGElement","SVGScriptElement","SVGSetElement","SVGStopElement","SVGStringList","SVGStyleElement","SVGSwitchElement","SVGSymbolElement","SVGTSpanElement","SVGTextContentElement","SVGTextElement","SVGTextPathElement","SVGTextPositioningElement","SVGTitleElement","SVGTransform","SVGTransformList","SVGUnitTypes","SVGUseElement","SVGViewElement","Scheduler","Scheduling","Screen","ScreenOrientation","ScriptProcessorNode","ScrollTimeline","SecurityPolicyViolationEvent","Selection","ShadowRoot","SharedWorker","SourceBuffer","SourceBufferList","SpeechSynthesis","SpeechSynthesisErrorEvent","SpeechSynthesisEvent","SpeechSynthesisUtterance","SpeechSynthesisVoice","StaticRange","StereoPannerNode","Storage","StorageEvent","StylePropertyMap","StylePropertyMapReadOnly","StyleSheet","StyleSheetList","SubmitEvent","SyncManager","TaskAttributionTiming","TaskController","TaskPriorityChangeEvent","TaskSignal","Text","TextEvent","TextFormat","TextFormatUpdateEvent","TextMetrics","TextTrack","TextTrackCue","TextTrackCueList","TextTrackList","TextUpdateEvent","TimeRanges","ToggleEvent","Touch","TouchEvent","TouchList","TrackEvent","TransitionEvent","TreeWalker","TrustedHTML","TrustedScript","TrustedScriptURL","TrustedTypePolicy","TrustedTypePolicyFactory","UIEvent","URLPattern","UserActivation","VTTCue","ValidityState","VideoColorSpace","VideoFrame","VideoPlaybackQuality","ViewTimeline","ViewTransition","VirtualKeyboardGeometryChangeEvent","VisibilityStateEntry","VisualViewport","WaveShaperNode","WebGL2RenderingContext","WebGLActiveInfo","WebGLBuffer","WebGLContextEvent","WebGLFramebuffer","WebGLProgram","WebGLQuery","WebGLRenderbuffer","WebGLRenderingContext","WebGLSampler","WebGLShader","WebGLShaderPrecisionFormat","WebGLSync","WebGLTexture","WebGLTransformFeedback","WebGLUniformLocation","WebGLVertexArrayObject","WebKitCSSMatrix","WebKitMutationObserver","WebSocket","WebSocketError","WebSocketStream","WheelEvent","Window","WindowControlsOverlay","WindowControlsOverlayGeometryChangeEvent","Worker","XMLDocument","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload","XMLSerializer","XPathEvaluator","XPathExpression","XPathResult","XSLTProcessor"])},methods:{get classes(){return addExpansion(fetcher("function",/^[A-Z]/))},get functions(){},get objects(){}}},safari:{}}},ot=new S(it);var at=class{#e=[];constructor(e,...r){e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")?this.#e=[...e,...r]:typeof e=="function"&&e.constructor.name==="AsyncGeneratorFunction"?this.#e=e():this.#e=[e,...r]}async*[Symbol.asyncIterator](){for await(let e of this.#e)yield e}get[Symbol.toStringTag](){return this.constructor.name}static isAsyncIterable(e){return Object.prototype.toString.call(e?.[Symbol.asyncIterator])==="[object AsyncGeneratorFunction]"}},ct=class{constructor(e){if(typeof e=="function"&&e.constructor.name==="AsyncGeneratorFunction")this.#e=e();else{if(!e||!Reflect.has(e,Symbol.asyncIterator))throw new TypeError("Value used to instantiate AsyncIterator is not an async iterable");this.#e=e}this.#t=this.#e[Symbol.asyncIterator]()}async asArray(){let e=[];for await(let r of this)e.push(r);return e}get asyncIterable(){return this.#e}async next(){let e=await this.#t.next();return e.done?{value:void 0,done:!0}:{value:e.value,done:!1}}async reset(){this.#t=this.#e[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this}get[Symbol.toStringTag](){return this.constructor.name}#e=null;#t=null},ut=new S(at),lt=new S(ct);var ue=[[Array,je,Array.name],[BigInt,Ae,BigInt.name],[Function,q,Function.name],[JSON,ie,"JSON"],[Map,ve,Map.name],[Number,Ie,Number.name],[Object,oe,Object.name],[Reflect,Pt,"Reflect"],[RegExp,wt,RegExp.name],[Set,Ue,Set.name],[String,Je,String.name],[Symbol,W,"Symbol"]],le=[[Array.prototype,pt,Array.name],[BigInt.prototype,dt,BigInt.name],[Function.prototype,ht,Function.name],[Map.prototype,gt,Map.name],[Number.prototype,St,Number.name],[Object.prototype,Ot,Object.name],[Set.prototype,At,Set.name],[String.prototype,Mt,String.name],[Symbol.prototype,Et,Symbol.name]],ge=new Map([...ue,...le]),U={[ut.key]:ut,[lt.key]:lt,[ze.key]:ze,[$e.key]:$e,[Qe.key]:Qe,[Xe.key]:Xe,[Ye.key]:Ye,[_e.key]:_e,[Oe.key]:Oe,[Te.key]:Te,[Ke.key]:Ke,[rt.key]:rt,[st.key]:st,[Ne.key]:Ne,[ot.key]:ot},It={};for(let t of Object.values(U)){let e=t.class||t.function;It[e.name]=e}var V={};Object.assign(V,{enableAll(){V.enablePatches(),V.enableExtensions()},enablePatches(){ge.forEach(t=>{t.apply()})},enableStaticPatches(t=([e,r])=>!0){let e=ue.filter(Pe(t));return e.forEach(([r,n])=>n.apply()),e},enableInstancePatches(t=([e,r])=>!0){let e=le.filter(Pe(t));return e.forEach(([r,n])=>n.apply()),e},enableExtensions(){Object.values(U).forEach(t=>{t.apply()}),se.apply()},disableAll(){V.disablePatches(),V.disableExtensions()},disablePatches(){ge.forEach(t=>{t.revert()})},disableStaticPatches(t=([e,r])=>!0){let e=ue.filter(Pe(t));return e.forEach(([r,n])=>n.revert()),e},disableInstancePatches(t=([e,r])=>!0){let e=le.filter(Pe(t));return e.forEach(([r,n])=>n.revert()),e},disableExtensions(){Object.values(U).forEach(t=>{t.revert()}),se.revert()}});var Nt=(()=>{let t={patches:{},classes:{},global:{}},e=(s,[i,o])=>(new H(o.descriptor,o.owner).applyTo(s,i,!0),s),r=(s,[i,o,a])=>(s?.[a]||(s[a]={}),[...o].reduce(e,s[a]),s),n=(s,[i,o,a])=>(s?.[a]||(s[a]={}),s[a]?.prototype||(s[a].prototype={}),[...o].reduce(e,s[a].prototype),s);ue.reduce(r,t.patches),le.reduce(n,t.patches),Object.values(U).flatMap(s=>[...s]).reduce(e,t.classes);for(let[s,i]of se){let o=new H(i.descriptor,i.owner);Object.defineProperty(t.global,s,o.toObject(!0))}return t})(),Xr={...V,Extensions:U,Patches:ge,GlobalFunctionsAndProps:se,StaticPatches:ue,InstancePatches:le,Controls:V,extensions:U,patches:ge,all:Nt},Yr=Xr;function Pe(t=([e,r])=>!0){let e=t;if(typeof e!="function"){let r=Array.isArray(t)?t:[t];e=([n,s])=>{for(let i of r){let o=String(i);if(o.startsWith("^")&&(n?.name??n)!=o.substring(1)||(n?.name??n)==o)return!0}return!1}}return e}return Vt(Zr);})();
//# sourceMappingURL=basic-extensions.bundle.2.10.39.js.map
